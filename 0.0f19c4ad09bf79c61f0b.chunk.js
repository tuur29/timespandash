webpackJsonp([0],{"/cHS":function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=new Date((e.endcount.getSetting()?o.end:o.start).toISOString().substring(0,10));(n.length<1||n[n.length-1].date.getTime()!=i.getTime())&&n.push({date:i,values:[]}),n[n.length-1].values.push(e.endcount.getSetting()?a(o.end).getTime():a(o.start).getTime())}var s=[];if(e.avg.getSetting()){for(var r=0;r<n.length;r++){var u=Math.floor(r/e.avg.getSetting());s[u]||(s[u]={date:n[r].date,value:0,values:[]}),s[u].values=s[u].values.concat(n[r].values)}n=s}for(var r=0;r<n.length;r++)e.median.getSetting()?n[r].value=n[r].values[Math.floor(n[r].values.length/2)]:n[r].value=n[r].values.reduce(function(t,e){return t+e},0)/n[r].values.length;return n}function o(t,e,n,r){var o={curveLinear:n.curveLinear,curveStep:n.curveStep,curveBasis:n.curveBasis,curveCardinal:n.curveCardinal,curveMonotoneX:n.curveMonotoneX,curveCatmullRom:n.curveCatmullRom};if(null!==t){var a=t.width.baseVal.value,i=t.height.baseVal.value,s=n.scaleTime().domain(n.extent(e,function(t){return t.date})).range([0,a]),u=n.scaleTime().domain(n.extent(e,function(t){return t.value})).range([i-70/3,0]),l=n.curveBasis;r.curve.getSetting()&&(l=o[r.curve.getSetting()]);var c=n.line().curve(l).x(function(t){return s(t.date)}).y(function(t){return u(t.value)}),d=n.zoom().scaleExtent([.5,15]).translateExtent([[.75*-a,.75*-i],[1.75*a,1.75*i]]).on("zoom",function(){f.select(".trendline").attr("transform",n.event.transform),f.select(".line").attr("transform",n.event.transform),f.select(".x.axis").call(p.scale(n.event.transform.rescaleX(s))),f.select(".y.axis").call(g.scale(n.event.transform.rescaleY(u)))}),f=n.select(t).text("").call(d),p=n.axisBottom(s).ticks(20).tickSize(i-70/3).tickPadding(10).tickFormat(function(t){return n.timeHour(t).getHours()<1?n.timeFormat("%m-%d")(t):""}),g=n.axisLeft(u).ticks(10).tickSize(a-35).tickFormat(n.timeFormat("%H:%M"));f.append("svg:clipPath").attr("id","cliptodevo").append("svg:rect").attr("x",0).attr("y",0).attr("width",a).attr("height",i-70/3),f.append("svg:g").attr("class","x axis").attr("transform","translate(35, 0)").call(p),f.append("g").attr("class","y axis").attr("transform","translate("+a+", 0)").call(g);var h=f.append("g").attr("width",a-35).attr("height",i-70).attr("transform","translate(35, 0)").attr("clip-path","url(#cliptodevo)");h.append("svg:path").datum(e).attr("class","line").attr("d",c).attr("fill","none").attr("stroke","black");var m=e.map(function(t){return t.date}),v=n.range(1,m.length+1),y=e.map(function(t){return parseFloat(t.value)}),b=function(t,e){var n=function(t,e){return t+e},r=1*t.reduce(n)/t.length,o=1*e.reduce(n)/e.length,a=t.map(function(t){return Math.pow(t-r,2)}).reduce(n),i=e.map(function(t){return Math.pow(t-o,2)}).reduce(n),s=t.map(function(t,n){return(t-r)*(e[n]-o)}).reduce(n),u=s/a;return[u,o-r*u,Math.pow(s,2)/(a*i)]}(v,y),x=m[0],S=b[0]+b[1],w=m[m.length-1],M=b[0]*v.length+b[1],C=[[x,S,w,M]];h.selectAll(".trendline").data(C).enter().append("line").attr("class","trendline").attr("x1",function(t){return s(t[0])}).attr("y1",function(t){return u(t[1])}).attr("x2",function(t){return s(t[2])}).attr("y2",function(t){return u(t[3])}).attr("stroke","black").attr("stroke-width",1),d.scaleTo(f,.9),d.translateTo(f,a/2+17.5,i/2-17.5)}}function a(t){var e=new Date(0);return e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),t.getHours()<=12&&e.setDate(2),e}Object.defineProperty(e,"__esModule",{value:!0}),e.parse=r,e.draw=o},"/sIV":function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(n>0&&e.mergebreaks.getSetting()){if(new o.Timespan(0,t[n-1].end,r.start).getLength()<60*parseInt(e.mergebreaks.getSetting())*1e3){t[n-1].end=r.end,t.splice(n,1),n--;continue}}if(e.remshortenthan.getSetting()&&r.getLength()<60*parseInt(e.remshortenthan.getSetting())*1e3)t.splice(n,1),n--;else{if(e.ignbeforedate.getSetting()){var a=new Date(e.ignbeforedate.getSetting());if(a.getTime()>1&&r.start<a){t.splice(n,1),n--;continue}}if(e.ignafterdate.getSetting()){var i=new Date(e.ignafterdate.getSetting());if(i.getTime()>1&&r.start>i){t.splice(n,1),n--;continue}}}}return t}Object.defineProperty(e,"__esModule",{value:!0});var o=n("LbMv");e.parse=r},"0Z0k":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("qbdv"),i=n("4d0N"),s=n("HMTr"),u=n("p4cp"),l=function(){function t(){}return t}();l=r([o.NgModule({imports:[a.CommonModule,s.MaterialModule,u.SettingsModule],exports:[i.TODEvolutionComponent],declarations:[i.TODEvolutionComponent]})],l),e.TODEvolutionModule=l},"0oXc":function(t,e,n){"use strict";function r(t){var e=new XMLSerializer,n=e.serializeToString(t);n.match(/^<svg[^>]+xmlns="http\:\/\/www\.w3\.org\/2000\/svg"/)||(n=n.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),n.match(/^<svg[^>]+"http\:\/\/www\.w3\.org\/1999\/xlink"/)||(n=n.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),n='<?xml version="1.0" standalone="no"?>\r\n'+n;var r=window.document.createElement("a");r.href=window.URL.createObjectURL(new Blob([n],{type:"text/xml+svg"})),r.download="graph.svg",document.body.appendChild(r),r.click(),document.body.removeChild(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.exportsvg=r},"4Bz+":function(t,e,n){"use strict";function r(t,e){for(var n=t[0].start.getFullYear(),r=n,o=0,u=0,l=[],c=0;c<t.length;c++){var d=t[c];d.start.getFullYear()!=r&&r++;var f=a(d.start)+52*(r-n)-1;if(l[f]||(o=i(d.start).getTime(),l[f]=[d.start.getFullYear()+"-"+a(d.start),new s.Timespan(-1,new Date(o),d.start)]),l[f].length>2&&l[f].push(new s.Timespan(-1,l[f][l[f].length-1].end,d.start)),e.split.getSetting()&&a(d.end)!=a(d.start)){var p=a(d.end)+52*(r-n)-1;l[f].push(new s.Timespan(d.line,d.start,new Date(o+6048e5-1))),o=i(d.end).getTime(),l[p]=[d.end.getFullYear()+"-"+a(d.end),new s.Timespan(d.line,new Date(i(d.end).getTime()),d.end)]}else l[f].push(d);u<l[f].length-1&&(u=l[f].length-1)}for(;void 0==l[0];)l.shift();for(var g=0,h=new Date(0),m=new s.Timespan(-1,h,h),c=0;c<l.length;c++)for(l[c]||(g+=1,l[c]=["Break "+g]);l[c].length<=u;)l[c].push(m);return l}function o(t,e,n,r,o){var a=u.bind(r);if(null!==t){var l=r.stack().keys(Array(e[0].length).fill(0).map(function(t,e){return e})).offset(r.stackOffsetNone)(e),c=a().attr("class","d3-tip").html(function(t){if(t instanceof s.Timespan){var e=t.printShort()+" = "+t.printLength();return t.line>-1?e:"<span style='opacity:0.65'>("+e+")</span>"}return""}),d=r.select(t),f=t.width.baseVal.value,p=100+25*e.length,g=r.scaleTime().domain([0,864e5*(7+(n.split.getSetting()?0:1))]).range([0,f-100]),h=[],m=r.scaleBand().domain(e.map(function(t){return h.push(t[0]),t[0]})).range([50,p-50]).padding(.35),v=["transparent","black"];d.text("").attr("height",p).call(c).append("g").selectAll("g").data(l).enter().append("g").attr("class","group").attr("transform","translate(50,0)").selectAll("rect").data(function(t,e){return t.map(function(t){return t.data[e]})}).enter().append("rect").attr("height",m.bandwidth).attr("y",function(t,e){return m(h[e])}).attr("class",function(t,e){return!(t instanceof s.Timespan)||t.line<0?v[0]:v[1]}).attr("fill",function(t,e){return!(t instanceof s.Timespan)||t.line<0?v[0]:v[1]}).attr("x",function(t,e){return t instanceof s.Timespan?g(t.start.getTime()-i(t.start).getTime()):0}).attr("width",function(t,e){return t instanceof s.Timespan?g(t.getLength()):0}).on("click",function(t){t instanceof s.Timespan&&t.line>-1&&o.emit(t.line.toString())}).on("mouseover",c.show).on("mouseout",c.hide),d.append("g").attr("class","axis x").attr("transform","translate(54,50)").call(r.axisTop(g).ticks(14).tickSize(100-p+2).tickFormat(function(t,e){return e%2?["Tue","Wed","Thu","Fri","Sat","Sun","Mon"][Math.floor(e/2)]:""}).tickSizeOuter(0)),d.append("g").attr("class","axis y").attr("transform","translate(50,0)").call(r.axisLeft(m)).append("text").attr("x",g(g.domain()[0])).attr("y",44).attr("dy","0.32em").attr("fill","#000").attr("text-anchor","middle").text("Mon")}}function a(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)}function i(t){t=new Date(t);var e=t.getDay(),n=t.getDate()-e+(0==e?-6:1),r=new Date(t.setDate(n));return r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0),r}Object.defineProperty(e,"__esModule",{value:!0});var s=n("LbMv"),u=n("jfKh");e.parse=r,e.draw=o},"4c45":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("qbdv"),i=n("6TcZ"),s=n("bm2B"),u=n("HMTr"),l=function(){function t(){}return t}();l=r([o.NgModule({imports:[a.CommonModule,s.FormsModule,s.ReactiveFormsModule,u.MaterialModule],exports:[i.LogsComponent],declarations:[i.LogsComponent]})],l),e.LogsModule=l},"4d0N":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("LZOn"),s=n("dTkt"),u=n("PQYC"),l=n("/cHS"),c=n("0oXc"),d=function(){function t(t,e){this.hide=!0,this.settings={curve:new u.Setting("curve","Interpolation","select",["curveBasis","curveLinear","curveStep","curveCardinal","curveMonotoneX","curveCatmullRom"],!0),avg:new u.Setting("avg","Average data over days","number"),median:new u.Setting("median","Use median values"),endcount:new u.Setting("endcount","Use end of timespan instead of start")},this.d3=e.getD3(),this.el=t.nativeElement}return t.prototype.ngOnInit=function(){},t.prototype.update=function(t){if(void 0!=t&&(this.timespans=t),!this.hide&&this.timespans.length>0){var e=l.parse(this.timespans,this.settings),n=this.el.querySelector("svg");n&&e&&l.draw(n,e,this.d3,this.settings)}},t.prototype.onOpenPanel=function(){this.hide&&(this.hide=!1,this.update(void 0))},t.prototype.onSettingsChange=function(t){this.settings=t,this.update()},t.prototype.onExport=function(t){t.stopPropagation(),c.exportsvg(this.el.querySelector("svg"))},t}();r([i.LocalStorage("hideTODEvolution"),o("design:type",Object)],d.prototype,"hide",void 0),d=r([a.Component({selector:"app-todevolution",template:'\n\n  <mat-expansion-panel\n      [expanded]="!hide"\n      (opened)="onOpenPanel()"\n      (closed)="hide=true">\n\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <h1>Time of day Evolution\n            <span *ngIf="!hide" (click)="onExport($event)"><mat-icon matTooltip="Export SVG">file_download</mat-icon></span>\n          </h1>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n        \x3c!-- Content --\x3e\n        <svg width="800" height="400"></svg>\n\n        <app-settings [settings]="settings" panelName="todevolution"\n          (onSettingsChange)="onSettingsChange($event)"></app-settings>\n\n    </mat-expansion-panel>\n\n  ',styles:["\n\n    svg {\n      display: block;\n      margin: 15px auto 0 auto;\n      cursor: move;\n    }\n\n    :host ::ng-deep .axis text {\n      fill: #eee;\n    }\n\n    :host ::ng-deep .axis line,\n    :host ::ng-deep .axis path {\n      stroke: #222;\n    }\n    \n    :host ::ng-deep .trendline {\n      stroke: #eee;\n      \n    }\n    :host ::ng-deep .line {\n      stroke: #26A69A;\n      fill: none;\n    }\n\n  "]}),o("design:paramtypes",["function"==typeof(f=void 0!==a.ElementRef&&a.ElementRef)&&f||Object,"function"==typeof(p=void 0!==s.D3Service&&s.D3Service)&&p||Object])],d),e.TODEvolutionComponent=d;var f,p},"6BrP":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("D0Sm"),s=n("LZOn"),u=function(){function t(t,e){this.globals=t,this.localStorageService=e,this.panelName="",this.settings=[],this.onSettingsChange=new a.EventEmitter,this.hide=!1,this.keys=Object.keys}return t.prototype.ngOnInit=function(){var t=this.localStorageService.get("hideSettings"+this.panelName);t&&(this.hide=t)},t.prototype.toggled=function(){this.localStorageService.set("hideSettings"+this.panelName,this.hide)},t.prototype.onCheckToggle=function(t){this.settings[t].enabled=!this.settings[t].enabled,this.submit()},t.prototype.onValueChange=function(t,e){this.settings[t].value=e.target.value,this.submit()},t.prototype.onSelect=function(t,e){this.settings[t].value=e.value,this.submit()},t.prototype.onReset=function(){for(var t in this.settings)this.settings[t].reset();this.submit()},t.prototype.submit=function(){this.onSettingsChange.emit(this.settings)},t}();r([a.Input(),o("design:type",String)],u.prototype,"panelName",void 0),r([a.Input(),o("design:type",Array)],u.prototype,"settings",void 0),r([a.Output(),o("design:type",Object)],u.prototype,"onSettingsChange",void 0),u=r([a.Component({selector:"app-settings",template:'\n\n    <mat-expansion-panel\n      [expanded]="!hide"\n      (opened)="hide=false;toggled()"\n      (closed)="hide=true;toggled()">\n\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <h2>Settings</h2>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n        \x3c!-- Content --\x3e\n        <form>\n\n            <div *ngFor="let i of keys(settings)">\n\n              <mat-checkbox *ngIf="settings[i].type!=\'select\'" [checked]="settings[i].enabled" (change)="onCheckToggle(i)">\n                {{ settings[i].description }}\n              </mat-checkbox>\n\n              <mat-form-field *ngIf="settings[i].type" [class.small]="settings[i].type===\'minute\'||settings[i].type===\'number\'">\n\n                <mat-select *ngIf="settings[i].type==\'select\'; else fallback"\n                  (change)="onSelect(i, $event)"\n                  [value]="settings[i].initialEnabled ? settings[i].initialValue : undefined"\n                  [placeholder]="settings[i].description">\n                  <mat-option *ngFor="let j of settings[i].options" [value]="j">\n                    {{j}}\n                  </mat-option>\n                </mat-select>\n\n                <ng-template #fallback>\n                  <input matInput [type]="settings[i].type == \'minute\' ? \'number\' : settings[i].type" [value]="settings[i].value" [disabled]="!settings[i].enabled" (change)="onValueChange(i, $event)" />\n                </ng-template>\n              </mat-form-field>\n              <ng-container *ngIf="settings[i].type == \'minute\'">min</ng-container>\n\n            </div>\n\n            <button type="button" (click)="onReset()" mat-button color="primary">\n              <mat-icon>refresh</mat-icon> Reset\n            </button>\n          \n        </form>\n\n      </mat-expansion-panel>\n\n  ',styles:["\n\n    mat-expansion-panel {\n      margin-top: 20px;\n    }\n\n    .mat-expansion-panel-header-title h2, button {\n      margin-top: 16px;\n    }\n\n    :host ::ng-deep .mat-expansion-panel-body {\n      padding-bottom: 20px;\n    }\n\n    label {\n      display: block;\n    }\n\n    button {\n      float: right;\n    }\n\n    mat-form-field {\n      margin-left: 30px;\n      max-width: 135px;\n    }\n\n    mat-form-field.small {\n      max-width: 60px;\n    }\n\n  "]}),o("design:paramtypes",["function"==typeof(l=void 0!==i.GlobalsService&&i.GlobalsService)&&l||Object,"function"==typeof(c=void 0!==s.LocalStorageService&&s.LocalStorageService)&&c||Object])],u),e.SettingsComponent=u;var l,c},"6TcZ":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("LZOn"),s=n("gRkV"),u=n("LbMv"),l=n("bm2B");n("9jMf"),n("5v8a");var c=function(){function t(){this.hide=!0,this.timespans=[],this.logsCtrl=new l.FormControl}return t.prototype.ngOnInit=function(){var t=this;this.filteredLogs=this.logsCtrl.valueChanges.startWith(null).map(function(e){return e?t.filter(e):t.timespans.slice()})},t.prototype.filter=function(t){var e=this;return this.timespans.filter(function(n){return e.normalize(n.printStart()).indexOf(e.normalize(t))>-1||e.normalize(n.printEnd()).indexOf(e.normalize(t))>-1||("("+n.line+")").indexOf(t)>-1})},t.prototype.update=function(t){void 0!=t&&(this.timespans=u.Timespan.cloneArray(t).reverse()),this.hide||(this.timespans=this.timespans,this.logsCtrl.reset())},t.prototype.search=function(t){var e=this;this.hide&&this.onOpenPanel(),setTimeout(function(){e.logsCtrl.setValue(t)},100)},t.prototype.onExportParsed=function(t){t.stopPropagation();var e=this.timespans.reverse().map(function(t){return t.printFull()}).join("\n"),n=window.document.createElement("a");n.href=window.URL.createObjectURL(new Blob([e],{type:"text/plain"})),n.download="logs.txt",document.body.appendChild(n),n.click(),document.body.removeChild(n)},t.prototype.onOpenPanel=function(){this.hide&&(this.hide=!1,this.update(void 0))},t.prototype.normalize=function(t){return s.removeDiacritics(t.toLowerCase())},t}();r([i.LocalStorage("hideLogs"),o("design:type",Object)],c.prototype,"hide",void 0),c=r([a.Component({selector:"app-logs",template:'\n\n  <mat-expansion-panel\n      [expanded]="!hide"\n      (opened)="onOpenPanel()"\n      (closed)="hide=true">\n\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <h1>Logs\n            <span *ngIf="!hide" (click)="onExportParsed($event)"><mat-icon matTooltip="Export parsed">file_download</mat-icon></span>\n          </h1>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n      \x3c!-- Content --\x3e\n      <ng-container *ngIf="!hide">\n\n        <form>\n          <mat-form-field class="full-width">\n\n            <button mat-icon-button matPrefix>\n              <mat-icon>search</mat-icon>\n            </button>\n\n            <input matInput placeholder="Search timestamps or line numbers" aria-label="Search names" [formControl]="logsCtrl">\n\n            <button *ngIf="logsCtrl.value" matSuffix mat-icon-button aria-label="Reset" (click)="logsCtrl.reset()">\n            <mat-icon>close</mat-icon>\n          </button>\n\n          </mat-form-field>\n        </form>\n\n        <mat-list>\n          <mat-list-item *ngFor="let timespan of filteredLogs | async">\n            <span>({{timespan.line}})</span>&nbsp; {{timespan.print()}}\n          </mat-list-item>\n        </mat-list>\n\n      </ng-container>\n    </mat-expansion-panel>\n\n  ',styles:["\n\n    :host ::ng-deep .mat-expansion-panel-content {\n      overflow-x: auto;\n    }\n\n    :host ::ng-deep .mat-expansion-panel-body {\n      min-width: 425px;\n    }\n\n    mat-panel-title span {\n      margin-left: 5px;\n    }\n\n    mat-list {\n      max-height: 400px;\n      overflow-y: auto;\n    }\n\n    mat-list-item span {\n      opacity: 0.5;\n      font-size: 0.75em;\n    }\n\n    :host ::ng-deep .mat-list .mat-list-item .mat-list-item-content {\n      height: 32px;\n    }\n\n  "]}),o("design:paramtypes",[])],c),e.LogsComponent=c},"8Tdg":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("qbdv"),i=n("QKO0"),s=n("HMTr"),u=n("p4cp"),l=function(){function t(){}return t}();l=r([o.NgModule({imports:[a.CommonModule,s.MaterialModule,u.SettingsModule],exports:[i.LineComponent],declarations:[i.LineComponent]})],l),e.LineModule=l},"BGw+":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("LZOn"),s=n("aH7/"),u=function(){function t(){this.onStatClick=new a.EventEmitter,this.hide=!1,this.stats=[]}return t.prototype.ngOnInit=function(){},t.prototype.update=function(t){void 0!=t&&(this.timespans=t),!this.hide&&this.timespans.length>0&&(this.stats=[new l("Most times per day",0),new l("Total times recorded",0),new l("Total days recorded",0),new l("Total length",0),new l("Longest ever",0),new l("Shortest ever",Number.MAX_SAFE_INTEGER),new l("Longest time between",0),new l("Shortest time between",Number.MAX_SAFE_INTEGER),new l("Average times per recorded day",0),new l("Average length per day",0),new l("Average percentage of day",0),new l("Median of starttime",[]),new l("Median of endtime",[]),new l("Longest time on one day",0)],s.parse(this.timespans,this.stats))},t.prototype.showLog=function(t){t>-1&&this.onStatClick.emit(t)},t.prototype.onOpenPanel=function(){this.hide&&(this.hide=!1,this.update(void 0))},t}();r([a.Output(),o("design:type",Object)],u.prototype,"onStatClick",void 0),r([i.LocalStorage("hideStats"),o("design:type",Object)],u.prototype,"hide",void 0),u=r([a.Component({selector:"app-stats",template:'\n\n  <mat-expansion-panel\n      [expanded]="!hide"\n      (opened)="onOpenPanel()"\n      (closed)="hide=true">\n\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <h1>Stats</h1>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n      \x3c!-- Content --\x3e\n      <ng-container *ngIf="!hide">\n\n        <mat-list>\n          <mat-list-item\n            *ngFor="let stat of stats"\n            (click)="showLog(stat.timespan ? stat.timespan.line : -1)">\n            {{stat.name}}: &nbsp;<strong>{{stat.value}}</strong>\n            <span *ngIf="stat.timespan">({{stat.timespan.printDate()}})</span>\n          </mat-list-item>\n        </mat-list>\n\n      </ng-container>\n    </mat-expansion-panel>\n\n  ',styles:["\n\n    :host ::ng-deep .mat-expansion-panel-content {\n      overflow-x: auto;\n    }\n\n    :host ::ng-deep .mat-expansion-panel-body {\n      min-width: 425px;\n    }\n\n    mat-list {\n      max-height: 450px;\n      overflow-y: auto;\n    }\n\n    mat-list-item {\n      cursor: pointer;\n    }\n\n    mat-list-item:hover {\n      text-decoration: underline;\n    }\n\n    mat-list span {\n      text-decoration: none !important;\n      opacity: 0.7;\n      margin-left: 5px;\n      font-size: 0.8em;\n    }\n\n    :host ::ng-deep .mat-list .mat-list-item .mat-list-item-content {\n      height: 32px;\n    }\n\n  "]}),o("design:paramtypes",[])],u),e.StatsComponent=u;var l=function(){function t(t,e,n){this.name=t,this.value=e,this.timespan=n||null}return t}();e.Stat=l},"BfU/":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("qbdv"),i=n("Ze2l"),s=n("HMTr"),u=n("p4cp"),l=function(){function t(){}return t}();l=r([o.NgModule({imports:[a.CommonModule,s.MaterialModule,u.SettingsModule],exports:[i.BarGraphComponent],declarations:[i.BarGraphComponent]})],l),e.BarGraphModule=l},M9tD:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("qbdv"),i=n("ssA5"),s=n("HMTr"),u=n("p4cp"),l=function(){function t(){}return t}();l=r([o.NgModule({imports:[a.CommonModule,s.MaterialModule,u.SettingsModule],exports:[i.RadarComponent],declarations:[i.RadarComponent]})],l),e.RadarModule=l},OlrT:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("p5Ee"),s=n("D0Sm"),u=n("PQYC"),l=n("/sIV"),c=function(){function t(t){this.globals=t,this.firsttime=!0,this.allPossibleKeywords=[],this.settings={mergebreaks:new u.Setting("mergebreaks","Merge when break smaller than","minute"),remshortenthan:new u.Setting("remshortenthan","Remove sessions shorter than","minute"),lastocc:new u.Setting("lastocc","Use last instead of first occurence"),ignbeforedate:new u.Setting("ignbeforedate","Ignore before date","date"),ignafterdate:new u.Setting("ignafterdate","Ignore after date","date")}}return t.prototype.ngOnInit=function(){i.environment.defaultKeywords&&this.onKeywordsChange({value:i.environment.defaultKeywords}),i.environment.allPossibleKeywords&&(this.allPossibleKeywords=i.environment.allPossibleKeywords)},t.prototype.getData=function(t,e){var n=this;void 0===e&&(e=!1),void 0==t&&(t=this.keywords),this.globals.getTimespans(t,e,this.settings).subscribe(function(t){t&&n.updateAll(t)})},t.prototype.updateAll=function(t){this.firsttime=!1;var e=l.parse(t,this.settings);try{this.stats.update(e)}catch(t){console.error(t)}try{this.logs.update(e)}catch(t){console.error(t)}try{this.bargraph.update(e)}catch(t){console.error(t)}try{this.pie.update(e)}catch(t){console.error(t)}try{this.line.update(e)}catch(t){console.error(t)}try{this.calendar.update(e)}catch(t){console.error(t)}try{this.boxes.update(e)}catch(t){console.error(t)}try{this.radar.update(e)}catch(t){console.error(t)}try{this.todevolution.update(e)}catch(t){console.error(t)}},t.prototype.onSettingsChange=function(t){this.settings=t,this.firsttime||this.getData()},t.prototype.onRefreshData=function(){this.getData(void 0,!0)},t.prototype.onKeywordsChange=function(t){this.keywords=t.value.split(","),this.getData(this.keywords)},t.prototype.onSearchLogLine=function(t){this.onSearchLogs("("+t+")")},t.prototype.onSearchLogs=function(t){this.logs.search(t),this.logsEl.nativeElement.scrollIntoView()},t.prototype.onFileDrop=function(t){t.preventDefault(),this.dragover=!1;var e=t.dataTransfer,n=e.getData("Text");n&&(this.keywords=[],this.updateAll(this.globals.parse(n,this.settings))),e.items?"file"==e.items[0].kind&&this.readFile(e.items[0].getAsFile()):this.readFile(e.files[0])},t.prototype.readFile=function(t){var e=this,n=new FileReader;n.onload=function(){e.keywords=[],e.updateAll(e.globals.parse(n.result,e.settings))},n.readAsText(t)},t}();r([a.ViewChild("stats"),o("design:type",Object)],c.prototype,"stats",void 0),r([a.ViewChild("logs"),o("design:type",Object)],c.prototype,"logs",void 0),r([a.ViewChild("logs",{read:a.ElementRef}),o("design:type",Object)],c.prototype,"logsEl",void 0),r([a.ViewChild("bargraph"),o("design:type",Object)],c.prototype,"bargraph",void 0),r([a.ViewChild("pie"),o("design:type",Object)],c.prototype,"pie",void 0),r([a.ViewChild("line"),o("design:type",Object)],c.prototype,"line",void 0),r([a.ViewChild("calendar"),o("design:type",Object)],c.prototype,"calendar",void 0),r([a.ViewChild("boxes"),o("design:type",Object)],c.prototype,"boxes",void 0),r([a.ViewChild("radar"),o("design:type",Object)],c.prototype,"radar",void 0),r([a.ViewChild("todevolution"),o("design:type",Object)],c.prototype,"todevolution",void 0),c=r([a.Component({selector:"app-home",template:'\n\n    <div class="cardsgrid"\n      [style.max-width]="firsttime ? \'600px\' : \'\'"\n      [style.margin]="firsttime ? \'0 auto\' : \'\'">\n\n      <div (drop)="onFileDrop($event)" (dragover)="$event.preventDefault();dragover=true" (dragleave)="dragover=false">\n        <mat-card class="settings" [class.dragover]="dragover">\n\n          <button *ngIf="!firsttime" type="button" (click)="onRefreshData()" mat-raised-button color="primary">\n            <mat-icon>refresh</mat-icon> Refresh Data\n          </button>\n\n          <mat-form-field *ngIf="allPossibleKeywords.length > 1">\n            <mat-select (change)="onKeywordsChange($event)" placeholder="Select data">\n              <mat-option *ngFor="let set of allPossibleKeywords" [value]="set.keywords">{{set.description}}</mat-option>\n            </mat-select>\n          </mat-form-field>\n          <p>Or drop a text (file) in the correct format here.</p>\n\n          <app-settings *ngIf="!firsttime" [settings]="settings" panelName="home"\n            (onSettingsChange)="onSettingsChange($event)"></app-settings>\n        </mat-card>\n      </div>\n\n\n      <div [style.display]="!firsttime ? \'block\' : \'none\'">\n        <app-stats #stats (onStatClick)="onSearchLogLine($event)"></app-stats>\n      </div>\n\n      <div [style.display]="!firsttime ? \'block\' : \'none\'">\n        <app-logs #logs></app-logs>\n      </div>\n\n      <div [style.display]="!firsttime ? \'block\' : \'none\'">\n        <app-bargraph #bargraph></app-bargraph>\n      </div>\n\n      <div [style.display]="!firsttime ? \'block\' : \'none\'">\n        <app-pie #pie></app-pie>\n      </div>\n\n      <div [style.display]="!firsttime ? \'block\' : \'none\'">\n        <app-radar #radar></app-radar>\n      </div>\n\n      <div [style.display]="!firsttime ? \'block\' : \'none\'">\n        <app-line #line></app-line>\n      </div>\n      \n      <div [style.display]="!firsttime ? \'block\' : \'none\'">\n        <app-todevolution #todevolution></app-todevolution>\n      </div>\n\n      <div [style.display]="!firsttime ? \'block\' : \'none\'">\n        <app-calendar #calendar (onDayClick)="onSearchLogs($event)"></app-calendar>\n      </div>\n\n      <div [style.display]="!firsttime ? \'block\' : \'none\'">\n        <app-boxes #boxes (onSpanClick)="onSearchLogLine($event)"></app-boxes>\n      </div>\n      \n\n    </div>\n\n  ',styles:["\n\n    @media (min-width: 650px) {\n      .cardsgrid {\n        display: flex;\n        flex-flow: row wrap;\n        align-items: start;\n      }\n\n      .cardsgrid > * {\n        flex: 1 1 300px;\n        padding: 10px;\n      }\n    }\n\n    @media (max-width: 649px) {\n      .cardsgrid > * {\n        margin: 20px 0;\n      }\n    }\n\n    .settings mat-form-field, .settings button {\n      margin: 10px;\n    }\n     \n    :host ::ng-deep mat-expansion-panel-header {\n      min-height: 64px !important;\n    }\n\n    :host ::ng-deep mat-panel-title h1 {\n      margin: 0;\n    }\n\n    :host ::ng-deep .mat-expansion-indicator {\n      margin-top: -5px !important;\n    }\n\n  "]}),o("design:paramtypes",["function"==typeof(d=void 0!==s.GlobalsService&&s.GlobalsService)&&d||Object])],c),e.HomeComponent=c;var d},PQYC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("p5Ee"),o=function(){function t(t,e,n,o,a,i){this.name=t,this.description=e,this.enabled=!1,this.type=n||"",this.options=o||[],this.value="number"==this.type?0:"select"==this.type?this.options[0]:"",r.environment.settings&&r.environment.settings[t]&&(r.environment.settings[t].enabled&&(this.enabled=r.environment.settings[t].enabled),r.environment.settings[t].value&&(this.value=r.environment.settings[t].value)),this.initialEnabled=a||this.enabled,this.initialValue=i||this.value,a&&"select"===n&&(this.value=i||o[0])}return t.prototype.getSetting=function(){return"select"==this.type?this.value:!!this.enabled&&(""==this.value?this.enabled:this.value)},t.prototype.reset=function(){this.enabled=this.initialEnabled,this.value=this.initialValue},t.prototype.save=function(){},t.fromJSON=function(e){var n=JSON.parse(e);return new t(n.name,n.description,n.type,n.options,n.initialEnabled,n.initialValue)},t}();e.Setting=o},QD1i:function(t,e,n){"use strict";function r(t,e){var n="#26A69A",r=e.bargraph.getSetting();if("Day of week"==r){for(var o=[{name:"Mon",yVal:0,color:n},{name:"Tue",yVal:0,color:n},{name:"Wed",yVal:0,color:n},{name:"Thu",yVal:0,color:n},{name:"Fri",yVal:0,color:n},{name:"Sat",yVal:0,color:n},{name:"Sun",yVal:0,color:n}],i=0;i<t.length;i++){var s=t[i],u=e.centercount.getSetting()?s.getCenter().getDay():s.start.getDay();o[u].yVal+=e.timescount.getSetting()?1:s.getLength()/a.getAbsoluteTimeUnit(e.timeunit.getSetting())}return o}if("Times of day"==r){for(var o=Array.from(new Array(24),function(t,e){return{name:e,yVal:0,color:n}}),i=0;i<t.length;i++){var s=t[i];if(e.counteachhour.getSetting())for(var l=s.start.getTime();l<=s.end.getTime();l+=36e5)o[new Date(l).getHours()].yVal+=1;else{var u=e.centercount.getSetting()?s.getCenter().getHours():e.endcount.getSetting()?s.end.getDay():s.start.getHours();o[u].yVal+=e.timescount.getSetting()?1:s.getLength()/a.getAbsoluteTimeUnit(e.timeunit.getSetting())}}return o}if("Months of year"==r){for(var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=Array.from(new Array(c.length),function(t,e){return{name:c[e],yVal:0,color:n,count:0}}),d=-1,i=0;i<t.length;i++){var s=t[i],u=e.centercount.getSetting()?s.getCenter().getMonth():s.start.getMonth();o[u].yVal+=e.timescount.getSetting()?1:s.getLength()/a.getAbsoluteTimeUnit(e.timeunit.getSetting()),e.avgvaluemon.getSetting()&&d!=u&&(o[u].count++,d=u)}if(e.avgvaluemon.getSetting())for(var i=0;i<o.length;i++)o[i].yVal=o[i].yVal/o[i].count;return o}if("Years"==r){for(var f=t[0].end.getFullYear(),p=t[t.length-1].start.getFullYear(),o=Array.from(new Array(p-f+1),function(t,e){return{name:e+f,yVal:0,color:n,count:0}}),d=-1,i=0;i<t.length;i++){var s=t[i],u=e.centercount.getSetting()?s.getCenter().getFullYear():s.start.getFullYear();if(o[u-f].yVal+=e.timescount.getSetting()?1:s.getLength()/a.getAbsoluteTimeUnit(e.timeunit.getSetting()),e.avgvaluemon.getSetting()){var g=e.centercount.getSetting()?s.getCenter().getMonth():s.start.getMonth();d!=g&&(o[u-f].count++,d=g)}}if(e.avgvaluemon.getSetting())for(var i=0;i<o.length;i++)o[i].yVal=o[i].yVal/o[i].count;return o}}function o(t,e,n){var r=i.bind(n);if(null!==t){var o=t.width.baseVal.value,s=t.height.baseVal.value,u=r().attr("class","d3-tip").html(function(t){return a.round(t.yVal)}),l=n.select(t).text("").call(u),c=n.scaleBand().domain(e.map(function(t){return t.name})).range([0,o-52.5]),d=n.scaleLinear().domain([0,n.max(e,function(t){return t.yVal})]).range([s-70,0]),f=n.axisBottom(c).ticks(e.length).scale(c),p=n.axisLeft(c).scale(d).ticks(7,"s");l.append("g").attr("class","axis").attr("transform","translate(35,35)").call(p),l.append("g").attr("class","axis").attr("transform","translate(35,"+(s-35)+")").call(f);var g=l.selectAll("rect").data(e);g.size();var h=g.enter(),m=(o-52.5)/(1.5*e.length);h.append("rect").attr("x",function(t,e){return c(t.name)}).attr("y",function(t){return d(t.yVal)}).attr("height",function(t){return s-d(t.yVal)-70+5}).attr("width",m).attr("fill",function(t,n){return e[n].color}).attr("transform","translate("+(35+m/4)+",30)").on("mouseover",u.show).on("mouseout",u.hide);var v=e.map(function(t){return t.name}),y=n.range(1,v.length+1),b=e.map(function(t){return parseFloat(t.yVal)}),x=function(t,e){var n=function(t,e){return t+e},r=1*t.reduce(n)/t.length,o=1*e.reduce(n)/e.length,a=t.map(function(t){return Math.pow(t-r,2)}).reduce(n),i=e.map(function(t){return Math.pow(t-o,2)}).reduce(n),s=t.map(function(t,n){return(t-r)*(e[n]-o)}).reduce(n),u=s/a;return[u,o-r*u,Math.pow(s,2)/(a*i)]}(y,b),S=v[0],w=x[0]+x[1],M=v[v.length-1],C=x[0]*y.length+x[1],O=[[S,w,M,C]];l.selectAll(".trendline").data(O).enter().append("line").attr("class","trendline").attr("x1",function(t){return c(t[0])}).attr("y1",function(t){return d(t[1])}).attr("x2",function(t){return c(t[2])}).attr("y2",function(t){return d(t[3])}).attr("stroke","black").attr("stroke-width",1).attr("transform","translate("+(35+2*m/3)+",35)")}}Object.defineProperty(e,"__esModule",{value:!0});var a=n("fuBk"),i=n("jfKh");e.parse=r,e.draw=o},QKO0:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("LZOn"),s=n("dTkt"),u=n("PQYC"),l=n("s9Gb"),c=n("0oXc"),d=function(){function t(t,e){this.hide=!0,this.settings={curve:new u.Setting("curve","Interpolation","select",["curveBasis","curveLinear","curveStep","curveCardinal","curveMonotoneX","curveCatmullRom"],!0),timeunit:new u.Setting("timeunit","Time unit","select",["minute","hour","day","week"],!0,"hour"),timescount:new u.Setting("timescount","Count number of timespans instead of length"),cumulative:new u.Setting("cumulative","Show cumulative data"),compareavg:new u.Setting("compareavg","Set avg as zero point"),avg:new u.Setting("avg","Average data over days","number")},this.d3=e.getD3(),this.el=t.nativeElement}return t.prototype.ngOnInit=function(){},t.prototype.update=function(t){if(void 0!=t&&(this.timespans=t),!this.hide&&this.timespans.length>0){var e=l.parse(this.timespans,this.settings),n=this.el.querySelector("svg");n&&e&&l.draw(n,e,this.d3,this.settings)}},t.prototype.onOpenPanel=function(){this.hide&&(this.hide=!1,this.update(void 0))},t.prototype.onSettingsChange=function(t){this.settings=t,this.update()},t.prototype.onExport=function(t){t.stopPropagation(),c.exportsvg(this.el.querySelector("svg"))},t}();r([i.LocalStorage("hideLine"),o("design:type",Object)],d.prototype,"hide",void 0),d=r([a.Component({selector:"app-line",template:'\n\n  <mat-expansion-panel\n      [expanded]="!hide"\n      (opened)="onOpenPanel()"\n      (closed)="hide=true">\n\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <h1>Linegraph\n            <span *ngIf="!hide" (click)="onExport($event)"><mat-icon matTooltip="Export SVG">file_download</mat-icon></span>\n          </h1>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n        \x3c!-- Content --\x3e\n        <svg width="800" height="400"></svg>\n\n        <app-settings [settings]="settings" panelName="line"\n          (onSettingsChange)="onSettingsChange($event)"></app-settings>\n\n    </mat-expansion-panel>\n\n  ',styles:["\n\n    svg {\n      display: block;\n      margin: 15px auto 0 auto;\n      cursor: move;\n    }\n\n    :host ::ng-deep .axis text {\n      fill: #eee;\n    }\n\n    :host ::ng-deep .axis line,\n    :host ::ng-deep .axis path {\n      stroke: #222;\n    }\n    \n    :host ::ng-deep .trendline {\n      stroke: #eee;\n      \n    }\n    :host ::ng-deep .line {\n      stroke: #26A69A;\n      fill: none;\n    }\n\n  "]}),o("design:paramtypes",["function"==typeof(f=void 0!==a.ElementRef&&a.ElementRef)&&f||Object,"function"==typeof(p=void 0!==s.D3Service&&s.D3Service)&&p||Object])],d),e.LineComponent=d;var f,p},R3sR:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("LZOn"),s=n("dTkt"),u=n("PQYC"),l=n("4Bz+"),c=n("0oXc"),d=function(){function t(t,e){this.onSpanClick=new a.EventEmitter,this.hide=!0,this.settings={split:new u.Setting("split","Split timespans at midnight on monday")},this.d3=e.getD3(),this.el=t.nativeElement}return t.prototype.ngOnInit=function(){},t.prototype.update=function(t){if(void 0!=t&&(this.timespans=t),!this.hide&&this.timespans.length>0){var e=l.parse(this.timespans,this.settings),n=this.el.querySelector("svg");n&&e&&l.draw(n,e,this.settings,this.d3,this.onSpanClick)}},t.prototype.onOpenPanel=function(){this.hide&&(this.hide=!1,this.update(void 0))},t.prototype.onSettingsChange=function(t){this.settings=t,this.update()},t.prototype.onExport=function(t){t.stopPropagation(),c.exportsvg(this.el.querySelector("svg"))},t}();r([a.Output(),o("design:type",Object)],d.prototype,"onSpanClick",void 0),r([i.LocalStorage("hideBoxes"),o("design:type",Object)],d.prototype,"hide",void 0),d=r([a.Component({selector:"app-boxes",template:'\n\n  <mat-expansion-panel\n      [expanded]="!hide"\n      (opened)="onOpenPanel()"\n      (closed)="hide=true">\n\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <h1>All Timespans\n            <span *ngIf="!hide" (click)="onExport($event)"><mat-icon matTooltip="Export SVG">file_download</mat-icon></span>\n          </h1>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n        \x3c!-- Content --\x3e\n        <svg width="800" height="400"></svg>\n\n        <app-settings [settings]="settings" panelName="boxes"\n          (onSettingsChange)="onSettingsChange($event)"></app-settings>\n\n    </mat-expansion-panel>\n\n  ',styles:["\n\n    :host ::ng-deep .mat-expansion-panel-body {\n      max-height: 800px;\n      overflow-y: auto;\n    }\n\n    svg {\n      display: block;\n      margin: 15px auto 0 auto;\n    }\n\n    :host ::ng-deep .axis text,\n    :host ::ng-deep rect.black {\n      fill: #eee;\n    }\n\n    :host ::ng-deep rect.black {\n      cursor: pointer;\n    }\n\n    :host ::ng-deep .axis .tick line {\n      stroke: #666;\n    }\n\n    :host ::ng-deep .axis .tick:nth-of-type(even) line {\n      stroke: #aaa;\n    }\n    \n    :host ::ng-deep .axis path {\n      stroke: #eee;\n    }\n\n  "]}),o("design:paramtypes",["function"==typeof(f=void 0!==a.ElementRef&&a.ElementRef)&&f||Object,"function"==typeof(p=void 0!==s.D3Service&&s.D3Service)&&p||Object])],d),e.BoxesComponent=d;var f,p},S93U:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("qbdv"),i=n("xtiA"),s=n("HMTr"),u=n("p4cp"),l=function(){function t(){}return t}();l=r([o.NgModule({imports:[a.CommonModule,s.MaterialModule,u.SettingsModule],exports:[i.PieComponent],declarations:[i.PieComponent]})],l),e.PieModule=l},TEH7:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("qbdv"),i=n("p4cp"),s=n("R3sR"),u=n("HMTr"),l=function(){function t(){}return t}();l=r([o.NgModule({imports:[a.CommonModule,i.SettingsModule,u.MaterialModule],exports:[s.BoxesComponent],declarations:[s.BoxesComponent]})],l),e.BoxesModule=l},TJ67:function(t,e,n){"use strict";function r(t,e){var n="#26A69A",r=e.piechart.getSetting();if("Day of week"==r){for(var o=[{name:"Mon",yVal:0,color:n},{name:"Tue",yVal:0,color:n},{name:"Wed",yVal:0,color:n},{name:"Thu",yVal:0,color:n},{name:"Fri",yVal:0,color:n},{name:"Sat",yVal:0,color:n},{name:"Sun",yVal:0,color:n}],i=0;i<t.length;i++){var s=t[i],u=e.centercount.getSetting()?s.getCenter().getDay():s.start.getDay();o[u].yVal+=e.timescount.getSetting()?1:s.getLength()/a.getAbsoluteTimeUnit(e.timeunit.getSetting())}return o}if("Times of day"==r){for(var o=Array.from(new Array(24),function(t,e){return{name:e,yVal:0,color:n}}),i=0;i<t.length;i++){var s=t[i];if(e.counteachhour.getSetting())for(var l=s.start.getTime();l<=s.end.getTime();l+=36e5)o[new Date(l).getHours()].yVal+=1;else{var u=e.centercount.getSetting()?s.getCenter().getHours():e.endcount.getSetting()?s.end.getDay():s.start.getHours();o[u].yVal+=e.timescount.getSetting()?1:s.getLength()/a.getAbsoluteTimeUnit(e.timeunit.getSetting())}}return o}if("Months of year"==r){for(var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=Array.from(new Array(c.length),function(t,e){return{name:c[e],yVal:0,color:n,count:0}}),d=-1,i=0;i<t.length;i++){var s=t[i],u=e.centercount.getSetting()?s.getCenter().getMonth():s.start.getMonth();o[u].yVal+=e.timescount.getSetting()?1:s.getLength()/a.getAbsoluteTimeUnit(e.timeunit.getSetting()),e.avgvaluemon.getSetting()&&d!=u&&(o[u].count++,d=u)}if(e.avgvaluemon.getSetting())for(var i=0;i<o.length;i++)o[i].yVal=o[i].yVal/o[i].count;return o}}function o(t,e,n,r){var o=i.bind(r),s=e.reduce(function(t,e){return t+=parseInt(e.yVal)},0);if(null!==t){var u=t.width.baseVal.value,l=t.height.baseVal.value,c=o().attr("class","d3-tip").html(function(t){return n.percentages.getSetting()?a.round(t.data.yVal/s*100)+"%":a.round(t.data.yVal)}),d=r.select(t).text("").call(c),f=Math.min(u,l)/2,p=d.append("g").attr("transform","translate("+u/2+","+l/2+")"),g=r.scaleLinear().domain([1,e.length]).interpolate(r.interpolateHcl).range([r.rgb("#ff0000"),r.rgb("#0000ff")]),h=r.pie().sort(null).value(function(t){return t.yVal}),m=r.arc().outerRadius(f-10).innerRadius(15).cornerRadius(4).padAngle(.06),v=r.arc().outerRadius(f-60).innerRadius(f-40),y=p.selectAll(".arc").data(h(e)).enter().append("g").attr("class","arc");y.append("path").attr("d",m).attr("fill",function(t,e){return g(e)}).on("mouseover",c.show).on("mouseout",c.hide),y.append("text").attr("transform",function(t){return"translate("+v.centroid(t)+")"}).attr("dy","0.35em").attr("fill","#eee").text(function(t){return t.data.name})}}Object.defineProperty(e,"__esModule",{value:!0});var a=n("fuBk"),i=n("jfKh");e.parse=r,e.draw=o},Ze2l:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("LZOn"),s=n("dTkt"),u=n("PQYC"),l=n("QD1i"),c=n("0oXc"),d=function(){function t(t,e){this.hide=!0,this.settings={bargraph:new u.Setting("bargraph","Select type","select",["Day of week","Times of day","Months of year","Years"],!0),timeunit:new u.Setting("timeunit","Time unit","select",["minute","hour","day","week"],!0,"day"),timescount:new u.Setting("timescount","Count number of timespans instead of length"),centercount:new u.Setting("centercount","Use center of timespan instead of start"),endcount:new u.Setting("endcount","Use end of timespan instead of start (ToD only)"),counteachhour:new u.Setting("counteachhour","Count each hour between start & end (ToD only)"),avgvaluemon:new u.Setting("avgvaluemon","Weigh data based on months (Months & Years only)")},this.d3=e.getD3(),this.el=t.nativeElement}return t.prototype.ngOnInit=function(){},t.prototype.update=function(t){if(void 0!=t&&(this.timespans=t),!this.hide&&this.timespans.length>0){var e=l.parse(this.timespans,this.settings),n=this.el.querySelector("svg");n&&e&&l.draw(n,e,this.d3)}},t.prototype.onOpenPanel=function(){this.hide&&(this.hide=!1,this.update(void 0))},t.prototype.onSettingsChange=function(t){this.settings=t,this.update()},t.prototype.onExport=function(t){t.stopPropagation(),c.exportsvg(this.el.querySelector("svg"))},t}();r([i.LocalStorage("hideBarGraph"),o("design:type",Object)],d.prototype,"hide",void 0),d=r([a.Component({selector:"app-bargraph",template:'\n\n  <mat-expansion-panel\n      [expanded]="!hide"\n      (opened)="onOpenPanel()"\n      (closed)="hide=true">\n\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <h1>Bargraph<span *ngIf="!hide">: {{ settings.bargraph.getSetting() }}</span>\n            <span *ngIf="!hide" (click)="onExport($event)"><mat-icon matTooltip="Export SVG">file_download</mat-icon></span>\n          </h1>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n        \x3c!-- Content --\x3e\n        <svg width="400" height="250"></svg>\n\n        <app-settings [settings]="settings" panelName="bargraph"\n          (onSettingsChange)="onSettingsChange($event)"></app-settings>\n\n    </mat-expansion-panel>\n\n  ',styles:["\n\n    svg {\n      display: block;\n      margin: 15px auto 0 auto;\n    }\n\n    :host ::ng-deep .axis text {\n      fill: #eee;\n    }\n    \n    :host ::ng-deep .axis line,\n    :host ::ng-deep .axis path,\n    :host ::ng-deep .trendline {\n      stroke: #eee;\n    }\n\n  "]}),o("design:paramtypes",["function"==typeof(f=void 0!==a.ElementRef&&a.ElementRef)&&f||Object,"function"==typeof(p=void 0!==s.D3Service&&s.D3Service)&&p||Object])],d),e.BarGraphComponent=d;var f,p},"aH7/":function(t,e,n){"use strict";function r(t){return t=t.sort(function(t,e){return t-e}),t[Math.floor(t.length/2)]}function o(t,e){var n=0,o=0;e[1].value=t.length;for(var s=0;s<t.length;s++){var u=t[s];if(e[11].value.push(u.start),e[12].value.push(u.end),e[3].value+=u.getLength(),e[4].value<u.getLength()?(e[4].value=u.getLength(),e[4].timespan=u):e[5].value>u.getLength()&&(e[5].value=u.getLength(),e[5].timespan=u),s>0){t[s-1].start.toDateString()!=u.start.toDateString()?(n=1,o=u.getLength(),e[2].value+=1):(n++,o+=u.getLength()),n>e[0].value&&(e[0].value=n,e[0].timespan=u),o>e[13].value&&(e[13].value=o,e[13].timespan=u);var l=new a.Timespan(0,t[s-1].end,u.start),c=new a.Timespan(0,t[s-1].end,u.start);e[6].value<l.getLength()?(e[6].value=l.getLength(),e[6].timespan=u):e[7].value>c.getLength()&&(e[7].value=c.getLength(),e[7].timespan=u)}else e[2].value+=1}e[8].value=i.round(e[1].value/e[2].value),e[9].value=e[3].value/e[2].value,e[10].value=i.round(100*e[9].value/864e5)+"%",e[11].value=i.formatTime(r(e[11].value)),e[12].value=i.formatTime(r(e[12].value));for(var d=0,f=[3,4,5,6,7,9,13];d<f.length;d++){var s=f[d];e[s].value=i.convertTime(e[s].value)}}Object.defineProperty(e,"__esModule",{value:!0});var a=n("LbMv"),i=n("fuBk");e.parse=o},ckYf:function(t,e,n){"use strict";function r(t){return new o(t)}function o(t){if(!(e=T.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",o=e[3]||"-",a=e[4]||"",i=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):j[c]||(c=""),(i||"0"===n&&"="===r)&&(i=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=o,this.symbol=a,this.zero=i,this.width=s,this.comma=u,this.precision=l,this.type=c}function a(t){return P=A(t),L=P.format,D=P.formatPrefix,P}function i(t){return function(e,n){t(null==e?n:null)}}function s(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function u(t,e){return function(n){return t(n.responseText,e)}}Object.defineProperty(e,"__esModule",{value:!0});var l,c=n("lI2P"),d=n("Iake"),f=n("crAx"),p=n("YhQO"),g=n("X6cg"),h=n("hW8u"),m=n("v2el"),v=n("t4Z+"),y=n("fwvA"),b=n("rkbZ"),x=n("9BYh"),S=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},w=function(t){return t=S(Math.abs(t)),t?t[1]:NaN},M=function(t,e){return function(n,r){for(var o=n.length,a=[],i=0,s=t[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(o-=s,o+s)),!((u+=s+1)>r));)s=t[i=(i+1)%t.length];return a.reverse().join(e)}},C=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},O=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,o=1,a=-1;o<r;++o)switch(t[o]){case".":a=n=o;break;case"0":0===a&&(a=o),n=o;break;case"e":break t;default:a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(n+1):t},k=function(t,e){var n=S(t,e);if(!n)return t+"";var r=n[0],o=n[1],a=o-(l=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+S(t,Math.max(0,e+a-1))[0]},R=function(t,e){var n=S(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")},j={"":O,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return R(100*t,e)},r:R,s:k,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},T=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;r.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var P,L,D,_=function(t){return t},E=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],A=function(t){function e(t){function e(t){var e,r,a,u=y,f=b;if("c"===v)f=x(t)+f,t="";else{t=+t;var w=t<0;if(t=x(Math.abs(t),m),w&&0==+t&&(w=!1),u=(w?"("===d?d:"-":"-"===d||"("===d?"":d)+u,f=f+("s"===v?E[8+l/3]:"")+(w&&"("===d?")":""),S)for(e=-1,r=t.length;++e<r;)if(48>(a=t.charCodeAt(e))||a>57){f=(46===a?i+t.slice(e+1):t.slice(e))+f,t=t.slice(0,e);break}}h&&!p&&(t=o(t,1/0));var M=u.length+t.length+f.length,C=M<g?new Array(g-M+1).join(n):"";switch(h&&p&&(t=o(C+t,C.length?g-f.length:1/0),C=""),c){case"<":t=u+t+f+C;break;case"=":t=u+C+t+f;break;case"^":t=C.slice(0,M=C.length>>1)+u+t+f+C.slice(M);break;default:t=C+u+t+f}return s(t)}t=r(t);var n=t.fill,c=t.align,d=t.sign,f=t.symbol,p=t.zero,g=t.width,h=t.comma,m=t.precision,v=t.type,y="$"===f?a[0]:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===f?a[1]:/[%p]/.test(v)?u:"",x=j[v],S=!v||/[defgprs%]/.test(v);return m=null==m?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),e.toString=function(){return t+""},e}function n(t,n){var o=e((t=r(t),t.type="f",t)),a=3*Math.max(-8,Math.min(8,Math.floor(w(n)/3))),i=Math.pow(10,-a),s=E[8+a/3];return function(t){return o(i*t)+s}}var o=t.grouping&&t.thousands?M(t.grouping,t.thousands):_,a=t.currency,i=t.decimal,s=t.numerals?C(t.numerals):_,u=t.percent||"%";return{format:e,formatPrefix:n}};a({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var I=function(t){return Math.max(0,-w(Math.abs(t)))},V=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(w(e)/3)))-w(Math.abs(t)))},B=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,w(e)-w(t))+1},F=n("fSl7"),H=n("isYt"),q=n("dskq"),z=n("JZbR"),N=n("Ra1H"),Y=n("lFYJ"),W=n("BxBM"),G=n("k9yC"),U=function(t,e){function n(t){var e,n=d.status;if(!n&&s(d)||n>=200&&n<300||304===n){if(a)try{e=a.call(r,d)}catch(t){return void l.call("error",r,t)}else e=d;l.call("load",r,e)}else l.call("error",r,t)}var r,o,a,u,l=Object(m.a)("beforesend","progress","load","error"),c=Object(g.c)(),d=new XMLHttpRequest,f=null,p=null,h=0;if("undefined"==typeof XDomainRequest||"withCredentials"in d||!/^(http(s)?:)?\/\//.test(t)||(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=d.ontimeout=n:d.onreadystatechange=function(t){d.readyState>3&&n(t)},d.onprogress=function(t){l.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),r)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",r):o},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?p:(p=null==t?null:t+"",r)},response:function(t){return a=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(e,n,a){return d.open(e,t,!0,f,p),null==o||c.has("accept")||c.set("accept",o+",*/*"),d.setRequestHeader&&c.each(function(t,e){d.setRequestHeader(e,t)}),null!=o&&d.overrideMimeType&&d.overrideMimeType(o),null!=u&&(d.responseType=u),h>0&&(d.timeout=h),null==a&&"function"==typeof n&&(a=n,n=null),null!=a&&1===a.length&&(a=i(a)),null!=a&&r.on("error",a).on("load",function(t){a(null,t)}),l.call("beforesend",r,d),d.send(null==n?null:n),r},abort:function(){return d.abort(),r},on:function(){var t=l.on.apply(l,arguments);return t===l?r:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}return r},X=function(t,e){return function(n,r){var o=U(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return o.get(r)}return o}},$=X("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Z=X("application/json",function(t){return JSON.parse(t.responseText)}),J=X("text/plain",function(t){return t.responseText}),K=X("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),Q=function(t,e){return function(n,r,o){arguments.length<3&&(o=r,r=null);var a=U(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(u(e,r=t)):r},a.row(r),o?a.get(o):a}},tt=Q("text/csv",y.c),et=Q("text/tab-separated-values",y.h),nt=n("ytvl"),rt=n("nwz6"),ot=n("jeHV"),at=n("1ZKk"),it=n("S7bd"),st=n("JVwL"),ut=n("sFiY"),lt=n("L06M"),ct=n("lWow");n.d(e,"version",function(){return"4.12.2"}),n.d(e,"bisect",function(){return c.b}),n.d(e,"bisectRight",function(){return c.d}),n.d(e,"bisectLeft",function(){return c.c}),n.d(e,"ascending",function(){return c.a}),n.d(e,"bisector",function(){return c.e}),n.d(e,"cross",function(){return c.f}),n.d(e,"descending",function(){return c.g}),n.d(e,"deviation",function(){return c.h}),n.d(e,"extent",function(){return c.i}),n.d(e,"histogram",function(){return c.j}),n.d(e,"thresholdFreedmanDiaconis",function(){return c.w}),n.d(e,"thresholdScott",function(){return c.x}),n.d(e,"thresholdSturges",function(){return c.y}),n.d(e,"max",function(){return c.k}),n.d(e,"mean",function(){return c.l}),n.d(e,"median",function(){return c.m}),n.d(e,"merge",function(){return c.n}),n.d(e,"min",function(){return c.o}),n.d(e,"pairs",function(){return c.p}),n.d(e,"permute",function(){return c.q}),n.d(e,"quantile",function(){return c.r}),n.d(e,"range",function(){return c.s}),n.d(e,"scan",function(){return c.t}),n.d(e,"shuffle",function(){return c.u}),n.d(e,"sum",function(){return c.v}),n.d(e,"ticks",function(){return c.B}),n.d(e,"tickIncrement",function(){return c.z}),n.d(e,"tickStep",function(){return c.A}),n.d(e,"transpose",function(){return c.C}),n.d(e,"variance",function(){return c.D}),n.d(e,"zip",function(){return c.E}),n.d(e,"axisTop",function(){return d.d}),n.d(e,"axisRight",function(){return d.c}),n.d(e,"axisBottom",function(){return d.a}),n.d(e,"axisLeft",function(){return d.b}),n.d(e,"brush",function(){return f.a}),n.d(e,"brushX",function(){return f.c}),n.d(e,"brushY",function(){return f.d}),n.d(e,"brushSelection",function(){return f.b}),n.d(e,"chord",function(){return p.a}),n.d(e,"ribbon",function(){return p.b}),n.d(e,"nest",function(){return g.d}),n.d(e,"set",function(){return g.e}),n.d(e,"map",function(){return g.c}),n.d(e,"keys",function(){return g.b}),n.d(e,"values",function(){return g.f}),n.d(e,"entries",function(){return g.a}),n.d(e,"color",function(){return h.a}),n.d(e,"rgb",function(){return h.f}),n.d(e,"hsl",function(){return h.d}),n.d(e,"lab",function(){return h.e}),n.d(e,"hcl",function(){return h.c}),n.d(e,"cubehelix",function(){return h.b}),n.d(e,"dispatch",function(){return m.a}),n.d(e,"drag",function(){return v.a}),n.d(e,"dragDisable",function(){return v.b}),n.d(e,"dragEnable",function(){return v.c}),n.d(e,"dsvFormat",function(){return y.e}),n.d(e,"csvParse",function(){return y.c}),n.d(e,"csvParseRows",function(){return y.d}),n.d(e,"csvFormat",function(){return y.a}),n.d(e,"csvFormatRows",function(){return y.b}),n.d(e,"tsvParse",function(){return y.h}),n.d(e,"tsvParseRows",function(){return y.i}),n.d(e,"tsvFormat",function(){return y.f}),n.d(e,"tsvFormatRows",function(){return y.g}),n.d(e,"easeLinear",function(){return b.y}),n.d(e,"easeQuad",function(){return b.D}),n.d(e,"easeQuadIn",function(){return b.E}),n.d(e,"easeQuadOut",function(){return b.G}),n.d(e,"easeQuadInOut",function(){return b.F}),n.d(e,"easeCubic",function(){return b.m}),n.d(e,"easeCubicIn",function(){return b.n}),n.d(e,"easeCubicOut",function(){return b.p}),n.d(e,"easeCubicInOut",function(){return b.o}),n.d(e,"easePoly",function(){return b.z}),n.d(e,"easePolyIn",function(){return b.A}),n.d(e,"easePolyOut",function(){return b.C}),n.d(e,"easePolyInOut",function(){return b.B}),n.d(e,"easeSin",function(){return b.H}),n.d(e,"easeSinIn",function(){return b.I}),n.d(e,"easeSinOut",function(){return b.K}),n.d(e,"easeSinInOut",function(){return b.J}),n.d(e,"easeExp",function(){return b.u}),n.d(e,"easeExpIn",function(){return b.v}),n.d(e,"easeExpOut",function(){return b.x}),n.d(e,"easeExpInOut",function(){return b.w}),n.d(e,"easeCircle",function(){return b.i}),n.d(e,"easeCircleIn",function(){return b.j}),n.d(e,"easeCircleOut",function(){return b.l}),n.d(e,"easeCircleInOut",function(){return b.k}),n.d(e,"easeBounce",function(){return b.e}),n.d(e,"easeBounceIn",function(){return b.f}),n.d(e,"easeBounceOut",function(){return b.h}),n.d(e,"easeBounceInOut",function(){return b.g}),n.d(e,"easeBack",function(){return b.a}),n.d(e,"easeBackIn",function(){return b.b}),n.d(e,"easeBackOut",function(){return b.d}),n.d(e,"easeBackInOut",function(){return b.c}),n.d(e,"easeElastic",function(){return b.q}),n.d(e,"easeElasticIn",function(){return b.r}),n.d(e,"easeElasticOut",function(){return b.t}),n.d(e,"easeElasticInOut",function(){return b.s}),n.d(e,"forceCenter",function(){return x.a}),n.d(e,"forceCollide",function(){return x.b}),n.d(e,"forceLink",function(){return x.c}),n.d(e,"forceManyBody",function(){return x.d}),n.d(e,"forceRadial",function(){return x.e}),n.d(e,"forceSimulation",function(){return x.f}),n.d(e,"forceX",function(){return x.g}),n.d(e,"forceY",function(){return x.h}),n.d(e,"formatDefaultLocale",function(){return a}),n.d(e,"format",function(){return L}),n.d(e,"formatPrefix",function(){return D}),n.d(e,"formatLocale",function(){return A}),n.d(e,"formatSpecifier",function(){return r}),n.d(e,"precisionFixed",function(){return I}),n.d(e,"precisionPrefix",function(){return V}),n.d(e,"precisionRound",function(){return B}),n.d(e,"geoArea",function(){return F.c}),n.d(e,"geoBounds",function(){return F.h}),n.d(e,"geoCentroid",function(){return F.i}),n.d(e,"geoCircle",function(){return F.j}),n.d(e,"geoClipAntimeridian",function(){return F.k}),n.d(e,"geoClipCircle",function(){return F.l}),n.d(e,"geoClipExtent",function(){return F.m}),n.d(e,"geoClipRectangle",function(){return F.n}),n.d(e,"geoContains",function(){return F.u}),n.d(e,"geoDistance",function(){return F.v}),n.d(e,"geoGraticule",function(){return F.A}),n.d(e,"geoGraticule10",function(){return F.B}),n.d(e,"geoInterpolate",function(){return F.D}),n.d(e,"geoLength",function(){return F.E}),n.d(e,"geoPath",function(){return F.L}),n.d(e,"geoAlbers",function(){return F.a}),n.d(e,"geoAlbersUsa",function(){return F.b}),n.d(e,"geoAzimuthalEqualArea",function(){return F.d}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return F.e}),n.d(e,"geoAzimuthalEquidistant",function(){return F.f}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return F.g}),n.d(e,"geoConicConformal",function(){return F.o}),n.d(e,"geoConicConformalRaw",function(){return F.p}),n.d(e,"geoConicEqualArea",function(){return F.q}),n.d(e,"geoConicEqualAreaRaw",function(){return F.r}),n.d(e,"geoConicEquidistant",function(){return F.s}),n.d(e,"geoConicEquidistantRaw",function(){return F.t}),n.d(e,"geoEquirectangular",function(){return F.w}),n.d(e,"geoEquirectangularRaw",function(){return F.x}),n.d(e,"geoGnomonic",function(){return F.y}),n.d(e,"geoGnomonicRaw",function(){return F.z}),n.d(e,"geoIdentity",function(){return F.C}),n.d(e,"geoProjection",function(){return F.M}),n.d(e,"geoProjectionMutator",function(){return F.N}),n.d(e,"geoMercator",function(){return F.F}),n.d(e,"geoMercatorRaw",function(){return F.G}),n.d(e,"geoNaturalEarth1",function(){return F.H}),n.d(e,"geoNaturalEarth1Raw",function(){return F.I}),n.d(e,"geoOrthographic",function(){return F.J}),n.d(e,"geoOrthographicRaw",function(){return F.K}),n.d(e,"geoStereographic",function(){return F.P}),n.d(e,"geoStereographicRaw",function(){return F.Q}),n.d(e,"geoTransverseMercator",function(){return F.T}),n.d(e,"geoTransverseMercatorRaw",function(){return F.U}),n.d(e,"geoRotation",function(){return F.O}),n.d(e,"geoStream",function(){return F.R}),n.d(e,"geoTransform",function(){return F.S}),n.d(e,"cluster",function(){return H.a}),n.d(e,"hierarchy",function(){return H.b}),n.d(e,"pack",function(){return H.c}),n.d(e,"packSiblings",function(){return H.e}),n.d(e,"packEnclose",function(){return H.d}),n.d(e,"partition",function(){return H.f}),n.d(e,"stratify",function(){return H.g}),n.d(e,"tree",function(){return H.h}),n.d(e,"treemap",function(){return H.i}),n.d(e,"treemapBinary",function(){return H.j}),n.d(e,"treemapDice",function(){return H.k}),n.d(e,"treemapSlice",function(){return H.m}),n.d(e,"treemapSliceDice",function(){return H.n}),n.d(e,"treemapSquarify",function(){return H.o}),n.d(e,"treemapResquarify",function(){return H.l}),n.d(e,"interpolate",function(){return q.a}),n.d(e,"interpolateArray",function(){return q.b}),n.d(e,"interpolateBasis",function(){return q.c}),n.d(e,"interpolateBasisClosed",function(){return q.d}),n.d(e,"interpolateDate",function(){return q.g}),n.d(e,"interpolateNumber",function(){return q.m}),n.d(e,"interpolateObject",function(){return q.n}),n.d(e,"interpolateRound",function(){return q.r}),n.d(e,"interpolateString",function(){return q.s}),n.d(e,"interpolateTransformCss",function(){return q.t}),n.d(e,"interpolateTransformSvg",function(){return q.u}),n.d(e,"interpolateZoom",function(){return q.v}),n.d(e,"interpolateRgb",function(){return q.o}),n.d(e,"interpolateRgbBasis",function(){return q.p}),n.d(e,"interpolateRgbBasisClosed",function(){return q.q}),n.d(e,"interpolateHsl",function(){return q.j}),n.d(e,"interpolateHslLong",function(){return q.k}),n.d(e,"interpolateLab",function(){return q.l});n.d(e,"interpolateHcl",function(){return q.h}),n.d(e,"interpolateHclLong",function(){return q.i}),n.d(e,"interpolateCubehelix",function(){return q.e}),n.d(e,"interpolateCubehelixLong",function(){return q.f}),n.d(e,"quantize",function(){return q.w}),n.d(e,"path",function(){return z.a}),n.d(e,"polygonArea",function(){return N.a}),n.d(e,"polygonCentroid",function(){return N.b}),n.d(e,"polygonHull",function(){return N.d}),n.d(e,"polygonContains",function(){return N.c}),n.d(e,"polygonLength",function(){return N.e}),n.d(e,"quadtree",function(){return Y.a}),n.d(e,"queue",function(){return W.a}),n.d(e,"randomUniform",function(){return G.f}),n.d(e,"randomNormal",function(){return G.e}),n.d(e,"randomLogNormal",function(){return G.d}),n.d(e,"randomBates",function(){return G.a}),n.d(e,"randomIrwinHall",function(){return G.c}),n.d(e,"randomExponential",function(){return G.b}),n.d(e,"request",function(){return U}),n.d(e,"html",function(){return $}),n.d(e,"json",function(){return Z}),n.d(e,"text",function(){return J}),n.d(e,"xml",function(){return K}),n.d(e,"csv",function(){return tt}),n.d(e,"tsv",function(){return et}),n.d(e,"scaleBand",function(){return nt.i}),n.d(e,"scalePoint",function(){return nt.o}),n.d(e,"scaleIdentity",function(){return nt.j}),n.d(e,"scaleLinear",function(){return nt.l}),n.d(e,"scaleLog",function(){return nt.m}),n.d(e,"scaleOrdinal",function(){return nt.n}),n.d(e,"scaleImplicit",function(){return nt.k}),n.d(e,"scalePow",function(){return nt.p}),n.d(e,"scaleSqrt",function(){return nt.t}),n.d(e,"scaleQuantile",function(){return nt.q}),n.d(e,"scaleQuantize",function(){return nt.r}),n.d(e,"scaleThreshold",function(){return nt.u}),n.d(e,"scaleTime",function(){return nt.v}),n.d(e,"scaleUtc",function(){return nt.w}),n.d(e,"schemeCategory10",function(){return nt.x}),n.d(e,"schemeCategory20b",function(){return nt.z}),n.d(e,"schemeCategory20c",function(){return nt.A}),n.d(e,"schemeCategory20",function(){return nt.y}),n.d(e,"interpolateCubehelixDefault",function(){return nt.b}),n.d(e,"interpolateRainbow",function(){return nt.f}),n.d(e,"interpolateWarm",function(){return nt.h}),n.d(e,"interpolateCool",function(){return nt.a}),n.d(e,"interpolateViridis",function(){return nt.g}),n.d(e,"interpolateMagma",function(){return nt.d}),n.d(e,"interpolateInferno",function(){return nt.c}),n.d(e,"interpolatePlasma",function(){return nt.e}),n.d(e,"scaleSequential",function(){return nt.s}),n.d(e,"creator",function(){return rt.b}),n.d(e,"local",function(){return rt.e}),n.d(e,"matcher",function(){return rt.f}),n.d(e,"mouse",function(){return rt.g}),n.d(e,"namespace",function(){return rt.h}),n.d(e,"namespaces",function(){return rt.i}),n.d(e,"clientPoint",function(){return rt.a}),n.d(e,"select",function(){return rt.j}),n.d(e,"selectAll",function(){return rt.k}),n.d(e,"selection",function(){return rt.l}),n.d(e,"selector",function(){return rt.m}),n.d(e,"selectorAll",function(){return rt.n}),n.d(e,"style",function(){return rt.o}),n.d(e,"touch",function(){return rt.p}),n.d(e,"touches",function(){return rt.q}),n.d(e,"window",function(){return rt.r}),n.d(e,"event",function(){return rt.d}),n.d(e,"customEvent",function(){return rt.c}),n.d(e,"arc",function(){return ot.a}),n.d(e,"area",function(){return ot.b}),n.d(e,"line",function(){return ot.v}),n.d(e,"pie",function(){return ot.A}),n.d(e,"areaRadial",function(){return ot.c}),n.d(e,"radialArea",function(){return ot.C}),n.d(e,"lineRadial",function(){return ot.w}),n.d(e,"radialLine",function(){return ot.D}),n.d(e,"pointRadial",function(){return ot.B}),n.d(e,"linkHorizontal",function(){return ot.x}),n.d(e,"linkVertical",function(){return ot.z}),n.d(e,"linkRadial",function(){return ot.y}),n.d(e,"symbol",function(){return ot.P}),n.d(e,"symbols",function(){return ot.X}),n.d(e,"symbolCircle",function(){return ot.Q}),n.d(e,"symbolCross",function(){return ot.R}),n.d(e,"symbolDiamond",function(){return ot.S}),n.d(e,"symbolSquare",function(){return ot.T}),n.d(e,"symbolStar",function(){return ot.U}),n.d(e,"symbolTriangle",function(){return ot.V}),n.d(e,"symbolWye",function(){return ot.W}),n.d(e,"curveBasisClosed",function(){return ot.e}),n.d(e,"curveBasisOpen",function(){return ot.f}),n.d(e,"curveBasis",function(){return ot.d}),n.d(e,"curveBundle",function(){return ot.g}),n.d(e,"curveCardinalClosed",function(){return ot.i}),n.d(e,"curveCardinalOpen",function(){return ot.j}),n.d(e,"curveCardinal",function(){return ot.h}),n.d(e,"curveCatmullRomClosed",function(){return ot.l}),n.d(e,"curveCatmullRomOpen",function(){return ot.m}),n.d(e,"curveCatmullRom",function(){return ot.k}),n.d(e,"curveLinearClosed",function(){return ot.o}),n.d(e,"curveLinear",function(){return ot.n}),n.d(e,"curveMonotoneX",function(){return ot.p}),n.d(e,"curveMonotoneY",function(){return ot.q}),n.d(e,"curveNatural",function(){return ot.r}),n.d(e,"curveStep",function(){return ot.s}),n.d(e,"curveStepAfter",function(){return ot.t}),n.d(e,"curveStepBefore",function(){return ot.u}),n.d(e,"stack",function(){return ot.E}),n.d(e,"stackOffsetExpand",function(){return ot.G}),n.d(e,"stackOffsetDiverging",function(){return ot.F}),n.d(e,"stackOffsetNone",function(){return ot.H}),n.d(e,"stackOffsetSilhouette",function(){return ot.I}),n.d(e,"stackOffsetWiggle",function(){return ot.J}),n.d(e,"stackOrderAscending",function(){return ot.K}),n.d(e,"stackOrderDescending",function(){return ot.L}),n.d(e,"stackOrderInsideOut",function(){return ot.M}),n.d(e,"stackOrderNone",function(){return ot.N}),n.d(e,"stackOrderReverse",function(){return ot.O}),n.d(e,"timeInterval",function(){return at.g}),n.d(e,"timeMillisecond",function(){return at.h}),n.d(e,"timeMilliseconds",function(){return at.i}),n.d(e,"utcMillisecond",function(){return at.L}),n.d(e,"utcMilliseconds",function(){return at.M}),n.d(e,"timeSecond",function(){return at.r}),n.d(e,"timeSeconds",function(){return at.s}),n.d(e,"utcSecond",function(){return at.V}),n.d(e,"utcSeconds",function(){return at.W}),n.d(e,"timeMinute",function(){return at.j}),n.d(e,"timeMinutes",function(){return at.k}),n.d(e,"timeHour",function(){return at.e}),n.d(e,"timeHours",function(){return at.f}),n.d(e,"timeDay",function(){return at.a}),n.d(e,"timeDays",function(){return at.b}),n.d(e,"timeWeek",function(){return at.B}),n.d(e,"timeWeeks",function(){return at.C}),n.d(e,"timeSunday",function(){return at.t}),n.d(e,"timeSundays",function(){return at.u}),n.d(e,"timeMonday",function(){return at.l}),n.d(e,"timeMondays",function(){return at.m}),n.d(e,"timeTuesday",function(){return at.x}),n.d(e,"timeTuesdays",function(){return at.y}),n.d(e,"timeWednesday",function(){return at.z}),n.d(e,"timeWednesdays",function(){return at.A}),n.d(e,"timeThursday",function(){return at.v}),n.d(e,"timeThursdays",function(){return at.w}),n.d(e,"timeFriday",function(){return at.c}),n.d(e,"timeFridays",function(){return at.d}),n.d(e,"timeSaturday",function(){return at.p}),n.d(e,"timeSaturdays",function(){return at.q}),n.d(e,"timeMonth",function(){return at.n}),n.d(e,"timeMonths",function(){return at.o}),n.d(e,"timeYear",function(){return at.D}),n.d(e,"timeYears",function(){return at.E}),n.d(e,"utcMinute",function(){return at.N}),n.d(e,"utcMinutes",function(){return at.O}),n.d(e,"utcHour",function(){return at.J}),n.d(e,"utcHours",function(){return at.K}),n.d(e,"utcDay",function(){return at.F}),n.d(e,"utcDays",function(){return at.G}),n.d(e,"utcWeek",function(){return at._5}),n.d(e,"utcWeeks",function(){return at._6}),n.d(e,"utcSunday",function(){return at.X}),n.d(e,"utcSundays",function(){return at.Y}),n.d(e,"utcMonday",function(){return at.P}),n.d(e,"utcMondays",function(){return at.Q}),n.d(e,"utcTuesday",function(){return at._1}),n.d(e,"utcTuesdays",function(){return at._2}),n.d(e,"utcWednesday",function(){return at._3}),n.d(e,"utcWednesdays",function(){return at._4}),n.d(e,"utcThursday",function(){return at.Z}),n.d(e,"utcThursdays",function(){return at._0}),n.d(e,"utcFriday",function(){return at.H}),n.d(e,"utcFridays",function(){return at.I}),n.d(e,"utcSaturday",function(){return at.T}),n.d(e,"utcSaturdays",function(){return at.U}),n.d(e,"utcMonth",function(){return at.R}),n.d(e,"utcMonths",function(){return at.S}),n.d(e,"utcYear",function(){return at._7}),n.d(e,"utcYears",function(){return at._8}),n.d(e,"timeFormatDefaultLocale",function(){return it.d}),n.d(e,"timeFormat",function(){return it.c}),n.d(e,"timeParse",function(){return it.f}),n.d(e,"utcFormat",function(){return it.g}),n.d(e,"utcParse",function(){return it.h}),n.d(e,"timeFormatLocale",function(){return it.e}),n.d(e,"isoFormat",function(){return it.a}),n.d(e,"isoParse",function(){return it.b}),n.d(e,"now",function(){return st.b}),n.d(e,"timer",function(){return st.d}),n.d(e,"timerFlush",function(){return st.e}),n.d(e,"timeout",function(){return st.c}),n.d(e,"interval",function(){return st.a}),n.d(e,"transition",function(){return ut.c}),n.d(e,"active",function(){return ut.a}),n.d(e,"interrupt",function(){return ut.b}),n.d(e,"voronoi",function(){return lt.a}),n.d(e,"zoom",function(){return ct.a});n.d(e,"zoomTransform",function(){return ct.c}),n.d(e,"zoomIdentity",function(){return ct.b})},flzz:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("qbdv"),i=n("syEG"),s=n("HMTr"),u=n("p4cp"),l=function(){function t(){}return t}();l=r([o.NgModule({imports:[a.CommonModule,s.MaterialModule,u.SettingsModule],exports:[i.CalendarComponent],declarations:[i.CalendarComponent]})],l),e.CalendarModule=l},g3nB:function(t,e,n){"use strict";function r(t,e,n,r){function a(t,e){t.each(function(){for(var t,n=r.select(this),o=n.text().split(/\s+/).reverse(),a=[],i=0,s=n.attr("y"),u=n.attr("x"),l=parseFloat(n.attr("dy")),c=n.text(null).append("tspan").attr("x",u).attr("y",s).attr("dy",l+"em");t=o.pop();)a.push(t),c.text(a.join(" ")),c.node().getComputedTextLength()>e&&(a.pop(),c.text(a.join(" ")),a=[t],c=n.append("tspan").attr("x",u).attr("y",s).attr("dy",1.4*++i+l+"em").text(t))})}var i={w:600,h:600,margin:{top:20,right:20,bottom:20,left:20},levels:3,maxValue:0,labelFactor:1.25,wrapWidth:60,opacityArea:.35,dotRadius:4,opacityCircles:.1,strokeWidth:2,roundStrokes:!1,color:r.scaleOrdinal(r.schemeCategory10)},s=o.bind(r);if(void 0!==n)for(var u in n)void 0!==n[u]&&(i[u]=n[u]);var l=Math.max(i.maxValue,r.max(e,function(t){return r.max(t.map(function(t){return t.value}))})),c=e[0].map(function(t,e){return t.axis}),d=c.length,f=Math.min(i.w/2-i.margin.left-i.margin.right,i.h/2-i.margin.top-i.margin.bottom),p=r.format(".1f"),g=2*Math.PI/d,h=r.scaleLinear().range([0,f]).domain([0,l]),m=s().attr("class","d3-tip").html(function(t){return p(t.value)}),v=r.select(t).text("").attr("class","radar").call(m),y=v.append("g").attr("transform","translate("+(i.w/2+i.margin.left)+","+(i.h/2+i.margin.top)+")"),b=y.append("defs").append("filter").attr("id","glow"),x=(b.append("feGaussianBlur").attr("stdDeviation","2.5").attr("result","coloredBlur"),b.append("feMerge")),S=(x.append("feMergeNode").attr("in","coloredBlur"),x.append("feMergeNode").attr("in","SourceGraphic"),y.append("g").attr("class","axisWrapper"));S.selectAll(".levels").data(r.range(1,i.levels+1).reverse()).enter().append("circle").attr("class","gridCircle").attr("r",function(t,e){return f/i.levels*t}).style("fill","#CDCDCD").style("stroke","#CDCDCD").style("fill-opacity",i.opacityCircles).style("filter","url(#glow)"),S.selectAll(".axisLabel").data(r.range(1,i.levels+1).reverse()).enter().append("text").attr("class","axisLabel").attr("x",4).attr("y",function(t){return-t*f/i.levels-10}).attr("dy","0.4em").style("font-size","10px").attr("fill","#737373").text(function(t,e){return p(l*t/i.levels)});var w=S.selectAll(".axis").data(c).enter().append("g").attr("class","axis");w.append("line").attr("x1",0).attr("y1",0).attr("x2",function(t,e){return h(1.1*l)*Math.cos(g*e-Math.PI/2)}).attr("y2",function(t,e){return h(1.1*l)*Math.sin(g*e-Math.PI/2)}).attr("class","line").style("stroke","white").style("stroke-width","2px"),w.append("text").attr("class","legend").style("font-size","11px").attr("text-anchor","middle").attr("fill","#737373").attr("dy","0.35em").attr("x",function(t,e){return h(l*i.labelFactor)*Math.cos(g*e-Math.PI/2)}).attr("y",function(t,e){return h(l*i.labelFactor)*Math.sin(g*e-Math.PI/2)}).text(function(t){return t}).call(a,i.wrapWidth);var M=r.radialLine().curve(r.curveLinearClosed).radius(function(t){return h(t.value)}).angle(function(t,e){return e*g});i.roundStrokes&&M.curve(r.curveCardinalClosed);var C=y.selectAll(".radarWrapper").data(e).enter().append("g").attr("class","radarWrapper");C.append("path").attr("class","radarArea").attr("d",function(t,e){return M(t)}).style("fill",function(t,e){return i.color(e)}).style("fill-opacity",i.opacityArea),C.append("path").attr("class","radarStroke").attr("d",function(t,e){return M(t)}).style("stroke-width",i.strokeWidth+"px").style("stroke",function(t,e){return i.color(e)}).style("fill","none").style("filter","url(#glow)"),C.selectAll(".radarCircle").data(function(t,e){return t}).enter().append("circle").attr("class","radarCircle").attr("r",i.dotRadius).attr("cx",function(t,e){return h(t.value)*Math.cos(g*e-Math.PI/2)}).attr("cy",function(t,e){return h(t.value)*Math.sin(g*e-Math.PI/2)}).style("fill",function(t,e,n){return i.color(n)}).style("fill-opacity",.8),y.selectAll(".radarCircleWrapper").data(e).enter().append("g").attr("class","radarCircleWrapper").selectAll(".radarInvisibleCircle").data(function(t,e){return t}).enter().append("circle").attr("class","radarInvisibleCircle").attr("r",1.5*i.dotRadius).attr("cx",function(t,e){return h(t.value)*Math.cos(g*e-Math.PI/2)}).attr("cy",function(t,e){return h(t.value)*Math.sin(g*e-Math.PI/2)}).style("fill","none").style("pointer-events","all").on("mouseover",m.show).on("mouseout",m.hide)}Object.defineProperty(e,"__esModule",{value:!0});var o=n("jfKh");e.RadarChart=r},gRkV:function(t,e,n){"use strict";function r(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return a[t]||t})}Object.defineProperty(e,"__esModule",{value:!0});for(var o=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779\xd0"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"OE",letters:"\x8c\u0152"},{base:"oe",letters:"\x9c\u0153"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],a={},i=0;i<o.length;i++)for(var s=o[i].letters,u=0;u<s.length;u++)a[s[u]]=o[i].base;e.removeDiacritics=r},"ijp/":function(t,e,n){"use strict";function r(t,e){var n=e.radarchart.getSetting();if("Day of week"==n){for(var r=[{axis:"Mon",value:0},{axis:"Tue",value:0},{axis:"Wed",value:0},{axis:"Thu",value:0},{axis:"Fri",value:0},{axis:"Sat",value:0},{axis:"Sun",value:0}],o=0;o<t.length;o++){var i=t[o],s=e.centercount.getSetting()?i.getCenter().getDay():i.start.getDay();r[s].value+=e.timescount.getSetting()?1:i.getLength()/a.getAbsoluteTimeUnit(e.timeunit.getSetting())}return[r]}if("Times of day"==n){for(var r=Array.from(new Array(24),function(t,e){return{axis:e,value:0}}),o=0;o<t.length;o++){var i=t[o];if(e.counteachhour.getSetting())for(var u=i.start.getTime();u<=i.end.getTime();u+=36e5)r[new Date(u).getHours()].value+=1;else{var s=e.centercount.getSetting()?i.getCenter().getHours():e.endcount.getSetting()?i.end.getDay():i.start.getHours();r[s].value+=e.timescount.getSetting()?1:i.getLength()/a.getAbsoluteTimeUnit(e.timeunit.getSetting())}}return[r]}if("Months of year"==n){for(var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=Array.from(new Array(l.length),function(t,e){return{axis:l[e],value:0,count:0}}),c=-1,o=0;o<t.length;o++){var i=t[o],s=e.centercount.getSetting()?i.getCenter().getMonth():i.start.getMonth();r[s].value+=e.timescount.getSetting()?1:i.getLength()/a.getAbsoluteTimeUnit(e.timeunit.getSetting()),e.avgvaluemon.getSetting()&&c!=s&&(r[s].count++,c=s)}if(e.avgvaluemon.getSetting())for(var o=0;o<r.length;o++)r[o].value=r[o].value/r[o].count;return[r]}}function o(t,e,n,r){if(null!==t){var o={w:t.width.baseVal.value-40,h:t.height.baseVal.value-40,margin:{top:20,right:20,bottom:20,left:20},levels:4,opacityArea:.45,dotRadius:6,opacityCircles:.05,strokeWidth:3,roundStrokes:n.smooth.getSetting(),color:function(){return"#26A69A"}};i.RadarChart(t,e,o,r)}}Object.defineProperty(e,"__esModule",{value:!0});var a=n("fuBk"),i=n("g3nB");e.parse=r,e.draw=o},jfKh:function(t,e,n){var r,o,a;!function(i,s){o=[n("ckYf")],r=s,void 0!==(a="function"==typeof r?r.apply(e,o):r)&&(t.exports=a)}(0,function(t){return function(){function e(t){w=g(t),M=w.createSVGPoint(),document.body.appendChild(S)}function n(){return"n"}function r(){return[0,0]}function o(){return" "}function a(){var t=m();return{top:t.n.y-S.offsetHeight,left:t.n.x-S.offsetWidth/2}}function i(){var t=m();return{top:t.s.y,left:t.s.x-S.offsetWidth/2}}function s(){var t=m();return{top:t.e.y-S.offsetHeight/2,left:t.e.x}}function u(){var t=m();return{top:t.w.y-S.offsetHeight/2,left:t.w.x-S.offsetWidth}}function l(){var t=m();return{top:t.nw.y-S.offsetHeight,left:t.nw.x-S.offsetWidth}}function c(){var t=m();return{top:t.ne.y-S.offsetHeight,left:t.ne.x}}function d(){var t=m();return{top:t.sw.y,left:t.sw.x-S.offsetWidth}}function f(){var t=m();return{top:t.se.y,left:t.e.x}}function p(){var e=t.select(document.createElement("div"));return e.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),e.node()}function g(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function h(){return null===S&&(S=p(),document.body.appendChild(S)),t.select(S)}function m(){for(var e=C||t.event.target;void 0===e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},r=e.getScreenCTM(),o=e.getBBox(),a=o.width,i=o.height,s=o.x,u=o.y;return M.x=s,M.y=u,n.nw=M.matrixTransform(r),M.x+=a,n.ne=M.matrixTransform(r),M.y+=i,n.se=M.matrixTransform(r),M.x-=a,n.sw=M.matrixTransform(r),M.y-=i/2,n.w=M.matrixTransform(r),M.x+=a,n.e=M.matrixTransform(r),M.x-=a/2,M.y-=i/2,n.n=M.matrixTransform(r),M.y+=i,n.s=M.matrixTransform(r),n}function v(t){return"function"==typeof t?t:function(){return t}}var y=n,b=r,x=o,S=p(),w=null,M=null,C=null;e.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(C=t.pop());var n,r=x.apply(this,t),o=b.apply(this,t),a=y.apply(this,t),i=h(),s=k.length,u=document.documentElement.scrollTop||document.body.scrollTop,l=document.documentElement.scrollLeft||document.body.scrollLeft;for(i.html(r).style("opacity",1).style("pointer-events","all");s--;)i.classed(k[s],!1);return n=O.get(a).apply(this),i.classed(a,!0).style("top",n.top+o[0]+u+"px").style("left",n.left+o[1]+l+"px"),e},e.hide=function(){return h().style("opacity",0).style("pointer-events","none"),e},e.attr=function(n,r){if(arguments.length<2&&"string"==typeof n)return h().attr(n);var o=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(h(),o),e},e.style=function(n,r){if(arguments.length<2&&"string"==typeof n)return h().style(n);var o=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(h(),o),e},e.direction=function(t){return arguments.length?(y=null==t?t:v(t),e):y},e.offset=function(t){return arguments.length?(b=null==t?t:v(t),e):b},e.html=function(t){return arguments.length?(x=null==t?t:v(t),e):x},e.destroy=function(){return S&&(h().remove(),S=null),e};var O=t.map({n:a,s:i,e:s,w:u,nw:l,ne:c,sw:d,se:f}),k=O.keys();return e}})},ltR1:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("BkNc"),i=n("qbdv"),s=n("HMTr"),u=n("OlrT"),l=n("p4cp"),c=n("zaA9"),d=n("4c45"),f=n("BfU/"),p=n("S93U"),g=n("8Tdg"),h=n("flzz"),m=n("TEH7"),v=n("M9tD"),y=n("0Z0k"),b=function(){function t(){}return t}();b=r([o.NgModule({imports:[a.RouterModule.forChild([{path:"",component:u.HomeComponent,pathMatch:"full"}]),i.CommonModule,s.MaterialModule,l.SettingsModule,c.StatsModule,d.LogsModule,f.BarGraphModule,p.PieModule,g.LineModule,h.CalendarModule,m.BoxesModule,v.RadarModule,y.TODEvolutionModule],declarations:[u.HomeComponent]})],b),e.HomeModule=b},p4cp:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("qbdv"),i=n("BkNc"),s=n("6BrP"),u=n("HMTr"),l=n("bm2B"),c=function(){function t(){}return t}();c=r([o.NgModule({imports:[a.CommonModule,i.RouterModule,u.MaterialModule,l.FormsModule],exports:[s.SettingsComponent],declarations:[s.SettingsComponent]})],c),e.SettingsModule=c},piOC:function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r],a=new Date(e.centercount.getSetting()?o.getCenter().toISOString():e.endcount.getSetting()?o.end.toISOString():o.start.toISOString());a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);var i=a.getTime();n[i]||(n[i]={date:a,value:0}),n[i].value+=e.timescount.getSetting()?1:o.getLength()/36e5}return n}function o(t,e,n,r){function o(t,e){var r=new Date(t.getFullYear(),t.getMonth()+1,0),o=t.getDay(),a=n.timeWeek.count(n.timeYear(t),t),i=r.getDay(),s=n.timeWeek.count(n.timeYear(r),r);return"M"+(a+1)*e+","+o*e+"H"+a*e+"V"+7*e+"H"+s*e+"V"+(i+1)*e+"H"+(s+1)*e+"V0H"+(a+1)*e+"Z"}var l=u.bind(n);if(null!==t){var c=a(e).date.getFullYear(),d=i(e).date.getFullYear()+1,f=t.width.baseVal.value,p=(f-50)/55,g=9*p,h=g*(d-c)+50,m=n.timeFormat("%Y-%m-%d"),v=l().attr("class","d3-tip").html(function(t){var n=new Date(t);return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),t+(e[n.getTime()]?": "+s.round(e[n.getTime()].value):"")}),y=0,b=0;for(var x in e)b<e[x].value?b=e[x].value:y>e[x].value&&(y=e[x].value);var S=n.scaleLinear().domain([Math.floor(y),Math.ceil(b)]).interpolate(n.interpolateHcl).range([n.rgb("#0000ff"),n.rgb("#ff0000")]),w=n.select(t).call(v).attr("height",h).text(""),M=w.selectAll(".year").data(n.range(c,d)).enter().append("g").attr("class","year").attr("transform",function(t,e){return"translate("+100/3+","+(25+g*e)+")"});M.append("text").attr("transform","translate(-10,"+3.5*p+")rotate(-90)").style("text-anchor","middle").text(function(t){return t});M.selectAll(".day").data(function(t){return n.timeDays(new Date(t,0,1),new Date(t+1,0,1))}).enter().append("rect").attr("class","day").attr("fill",function(t){return e[t.getTime()]?S(e[t.getTime()].value):"none"}).attr("stroke","#333").attr("width",p).attr("height",p).attr("x",function(t){return n.timeWeek.count(n.timeYear(t),t)*p}).attr("y",function(t){return t.getDay()*p}).datum(m).on("click",function(t){r.emit(t)}).on("mouseover",v.show).on("mouseout",v.hide);M.selectAll(".month").data(function(t){return n.timeMonths(new Date(t,0,1),new Date(t+1,0,1))}).enter().append("path").attr("fill","none").attr("stroke","black").attr("stroke-width","2.5").attr("class","month").attr("d",function(t){return o(t,p)})}}function a(t){return t[Object.keys(t)[0]]}function i(t){var e=Object.keys(t);return t[e[e.length-1]]}Object.defineProperty(e,"__esModule",{value:!0});var s=n("fuBk"),u=n("jfKh");e.parse=r,e.draw=o},s9Gb:function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r],s=new Date(o.getCenter().toISOString().substring(0,10));(n.length<1||n[n.length-1].date.getTime()!=s.getTime())&&n.push({date:s,value:0}),n[n.length-1].value+=e.timescount.getSetting()?1:o.getLength()/i.getAbsoluteTimeUnit(e.timeunit.getSetting())}if(e.avg.getSetting()){for(var u=[],r=0;r<n.length;r++)u[Math.floor(r/e.avg.getSetting())]||(u[Math.floor(r/e.avg.getSetting())]={date:n[r].date,value:0}),u[Math.floor(r/e.avg.getSetting())].value+=n[r].value;n=u}if(e.cumulative.getSetting()){var l=0;for(var r in n)l+=n[r].value,n[r].value=l}if(e.compareavg.getSetting()){var c=n.reduce(function(t,e){return t+e.value},0)/n.length;n=n.map(function(t){return a({},t,{value:t.value-c})})}return n}function o(t,e,n,r){var o={curveLinear:n.curveLinear,curveStep:n.curveStep,curveBasis:n.curveBasis,curveCardinal:n.curveCardinal,curveMonotoneX:n.curveMonotoneX,curveCatmullRom:n.curveCatmullRom};if(null!==t){var a=t.width.baseVal.value,i=t.height.baseVal.value,s=n.scaleTime().domain(n.extent(e,function(t){return t.date})).range([0,a]),u=n.scaleLinear().domain(n.extent(e,function(t){return t.value})).range([i-70/3,0]),l=n.curveBasis;r.curve.getSetting()&&(l=o[r.curve.getSetting()]);var c=n.line().curve(l).x(function(t){return s(t.date)}).y(function(t){return u(t.value)}),d=n.zoom().scaleExtent([.5,15]).translateExtent([[.75*-a,.75*-i],[1.75*a,1.75*i]]).on("zoom",function(){f.select(".trendline").attr("transform",n.event.transform),f.select(".line").attr("transform",n.event.transform),f.select(".x.axis").call(g.scale(n.event.transform.rescaleX(s))),f.select(".y.axis").call(h.scale(n.event.transform.rescaleY(u)))}),f=n.select(t).text("").call(d),p=function(t){return(n.timeSecond(t)<t?n.timeFormat(".%L"):n.timeMinute(t)<t?n.timeFormat(":%S"):n.timeHour(t)<t?n.timeFormat("%H:%M"):n.timeDay(t)<t?n.timeFormat("%H:00"):n.timeMonth(t)<t?(n.timeWeek(t),n.timeFormat("%m-%d")):n.timeYear(t)<t?n.timeFormat("%b"):n.timeFormat("%Y"))(t)},g=n.axisBottom(s).ticks(20).tickSize(i-70/3).tickPadding(10).tickFormat(p),h=n.axisLeft(u).ticks(10).tickSize(a-35);f.append("svg:clipPath").attr("id","clipline").append("svg:rect").attr("x",0).attr("y",0).attr("width",a).attr("height",i-70/3),f.append("svg:g").attr("class","x axis").attr("transform","translate(35, 0)").call(g),f.append("g").attr("class","y axis").attr("transform","translate("+a+", 0)").call(h);var m=f.append("g").attr("width",a-35).attr("height",i-70).attr("transform","translate(35, 0)").attr("clip-path","url(#clipline)");m.append("svg:path").datum(e).attr("class","line").attr("d",c).attr("fill","none").attr("stroke","black");var v=e.map(function(t){return t.date}),y=n.range(1,v.length+1),b=e.map(function(t){return parseFloat(t.value)}),x=function(t,e){var n=function(t,e){return t+e},r=1*t.reduce(n)/t.length,o=1*e.reduce(n)/e.length,a=t.map(function(t){return Math.pow(t-r,2)}).reduce(n),i=e.map(function(t){return Math.pow(t-o,2)}).reduce(n),s=t.map(function(t,n){return(t-r)*(e[n]-o)}).reduce(n),u=s/a;return[u,o-r*u,Math.pow(s,2)/(a*i)]}(y,b),S=v[0],w=x[0]+x[1],M=v[v.length-1],C=x[0]*y.length+x[1],O=[[S,w,M,C]];m.selectAll(".trendline").data(O).enter().append("line").attr("class","trendline").attr("x1",function(t){return s(t[0])}).attr("y1",function(t){return u(t[1])}).attr("x2",function(t){return s(t[2])}).attr("y2",function(t){return u(t[3])}).attr("stroke","black").attr("stroke-width",1),d.scaleTo(f,.9),d.translateTo(f,a/2+17.5,i/2-17.5)}}var a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n("fuBk");e.parse=r,e.draw=o},ssA5:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("LZOn"),s=n("dTkt"),u=n("PQYC"),l=n("ijp/"),c=n("0oXc"),d=function(){function t(t,e){this.hide=!0,this.settings={radarchart:new u.Setting("radarchart","Select type","select",["Day of week","Times of day","Months of year"],!0),timeunit:new u.Setting("timeunit","Time unit","select",["minute","hour","day","week"],!0,"day"),smooth:new u.Setting("smooth","Smooth graph"),timescount:new u.Setting("timescount","Count number of timespans instead of length"),centercount:new u.Setting("centercount","Use center of timespan instead of start"),endcount:new u.Setting("endcount","Use end of timespan instead of start (Hours only)"),counteachhour:new u.Setting("counteachhour","Count each hour between start & end (Hours only)"),avgvaluemon:new u.Setting("avgvaluemon","Weigh data based on months (Months only)")},this.d3=e.getD3(),this.el=t.nativeElement}return t.prototype.ngOnInit=function(){},t.prototype.update=function(t){if(void 0!=t&&(this.timespans=t),!this.hide&&this.timespans.length>0){var e=l.parse(this.timespans,this.settings),n=this.el.querySelector("svg");n&&e&&l.draw(n,e,this.settings,this.d3)}},t.prototype.onOpenPanel=function(){this.hide&&(this.hide=!1,this.update(void 0))},t.prototype.onSettingsChange=function(t){this.settings=t,this.update()},t.prototype.onExport=function(t){t.stopPropagation(),c.exportsvg(this.el.querySelector("svg"))},t}();r([i.LocalStorage("hideRadar"),o("design:type",Object)],d.prototype,"hide",void 0),d=r([a.Component({selector:"app-radar",template:'\n\n  <mat-expansion-panel\n      [expanded]="!hide"\n      (opened)="onOpenPanel()"\n      (closed)="hide=true">\n\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <h1>Radarchart<span *ngIf="!hide">: {{ settings.radarchart.getSetting() }}</span>\n            <span *ngIf="!hide" (click)="onExport($event)"><mat-icon matTooltip="Export SVG">file_download</mat-icon></span>\n          </h1>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n        \x3c!-- Content --\x3e\n        <svg width="500" height="500"></svg>\n\n        <app-settings [settings]="settings" panelName="radar"\n          (onSettingsChange)="onSettingsChange($event)"></app-settings>\n\n    </mat-expansion-panel>\n\n  ',styles:["\n\n    svg {\n      display: block;\n      margin: 15px auto 0 auto;\n    }\n\n    :host ::ng-deep svg .axisLabel {\n      fill: #eee;\n    }\n\n    :host ::ng-deep svg .legend tspan {\n      fill: #eee;\n    }\n\n  "]}),o("design:paramtypes",["function"==typeof(f=void 0!==a.ElementRef&&a.ElementRef)&&f||Object,"function"==typeof(p=void 0!==s.D3Service&&s.D3Service)&&p||Object])],d),e.RadarComponent=d;var f,p},syEG:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("LZOn"),s=n("dTkt"),u=n("PQYC"),l=n("piOC"),c=n("0oXc"),d=function(){function t(t,e){this.onDayClick=new a.EventEmitter,this.hide=!0,this.settings={timescount:new u.Setting("timescount","Count number of timespans instead of length"),centercount:new u.Setting("centercount","Use center of timespan instead of start"),endcount:new u.Setting("endcount","Use end of timespan instead of start")},this.d3=e.getD3(),this.el=t.nativeElement}return t.prototype.ngOnInit=function(){},t.prototype.update=function(t){if(void 0!=t&&(this.timespans=t),!this.hide&&this.timespans.length>0){var e=l.parse(this.timespans,this.settings),n=this.el.querySelector("svg");n&&e&&l.draw(n,e,this.d3,this.onDayClick)}},t.prototype.onOpenPanel=function(){this.hide&&(this.hide=!1,this.update(void 0))},t.prototype.onSettingsChange=function(t){this.settings=t,this.update()},t.prototype.onExport=function(t){t.stopPropagation(),c.exportsvg(this.el.querySelector("svg"))},t}();r([a.Output(),o("design:type",Object)],d.prototype,"onDayClick",void 0),r([i.LocalStorage("hideCalendar"),o("design:type",Object)],d.prototype,"hide",void 0),d=r([a.Component({selector:"app-calendar",template:'\n\n  <mat-expansion-panel\n      [expanded]="!hide"\n      (opened)="onOpenPanel()"\n      (closed)="hide=true">\n\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <h1>Calendar\n            <span *ngIf="!hide" (click)="onExport($event)"><mat-icon matTooltip="Export SVG">file_download</mat-icon></span>\n          </h1>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n        \x3c!-- Content --\x3e\n        <svg width="800" height="400"></svg>\n\n        <app-settings [settings]="settings" panelName="calendar"\n          (onSettingsChange)="onSettingsChange($event)"></app-settings>\n\n    </mat-expansion-panel>\n\n  ',styles:["\n\n    svg {\n      display: block;\n      margin: 15px auto 0 auto;\n    }\n\n    :host ::ng-deep svg .day {\n      cursor: pointer;\n    }\n\n    :host ::ng-deep svg .month {\n      stroke: #eee;\n      stroke-width: 1.5;\n    }\n\n    :host ::ng-deep svg .year text {\n      fill: #eee;\n    }\n\n    :host ::ng-deep .mat-expansion-panel-body {\n      max-height: 800px;\n      overflow-y: auto;\n    }\n\n  "]}),o("design:paramtypes",["function"==typeof(f=void 0!==a.ElementRef&&a.ElementRef)&&f||Object,"function"==typeof(p=void 0!==s.D3Service&&s.D3Service)&&p||Object])],d),e.CalendarComponent=d;var f,p},xtiA:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=n("/oeL"),i=n("LZOn"),s=n("dTkt"),u=n("PQYC"),l=n("TJ67"),c=n("0oXc"),d=function(){function t(t,e){this.hide=!0,this.settings={piechart:new u.Setting("piechart","Select type","select",["Day of week","Times of day","Months of year"],!0),timeunit:new u.Setting("timeunit","Time unit","select",["minute","hour","day","week"],!0,"day"),timescount:new u.Setting("timescount","Count number of timespans instead of length"),centercount:new u.Setting("centercount","Use center of timespan instead of start"),percentages:new u.Setting("percentages","Show percentages in tooltips"),endcount:new u.Setting("endcount","Use end of timespan instead of start (Hours only)"),counteachhour:new u.Setting("counteachhour","Count each hour between start & end (Hours only)"),avgvaluemon:new u.Setting("avgvaluemon","Weigh data based on months (Months only)")},this.d3=e.getD3(),this.el=t.nativeElement}return t.prototype.ngOnInit=function(){},t.prototype.update=function(t){if(void 0!=t&&(this.timespans=t),!this.hide&&this.timespans.length>0){var e=l.parse(this.timespans,this.settings),n=this.el.querySelector("svg");n&&e&&l.draw(n,e,this.settings,this.d3)}},t.prototype.onOpenPanel=function(){this.hide&&(this.hide=!1,this.update(void 0))},t.prototype.onSettingsChange=function(t){this.settings=t,this.update()},t.prototype.onExport=function(t){t.stopPropagation(),c.exportsvg(this.el.querySelector("svg"))},t}();r([i.LocalStorage("hidePie"),o("design:type",Object)],d.prototype,"hide",void 0),d=r([a.Component({selector:"app-pie",template:'\n\n  <mat-expansion-panel\n      [expanded]="!hide"\n      (opened)="onOpenPanel()"\n      (closed)="hide=true">\n\n      <mat-expansion-panel-header>\n        <mat-panel-title>\n          <h1>Piechart<span *ngIf="!hide">: {{ settings.piechart.getSetting() }}</span>\n            <span *ngIf="!hide" (click)="onExport($event)"><mat-icon matTooltip="Export SVG">file_download</mat-icon></span>\n          </h1>\n        </mat-panel-title>\n      </mat-expansion-panel-header>\n\n        \x3c!-- Content --\x3e\n        <svg width="300" height="300"></svg>\n\n        <app-settings [settings]="settings" panelName="pie"\n          (onSettingsChange)="onSettingsChange($event)"></app-settings>\n\n    </mat-expansion-panel>\n\n  ',styles:["\n\n    svg {\n      display: block;\n      margin: 15px auto 0 auto;\n    }\n\n  "]}),o("design:paramtypes",["function"==typeof(f=void 0!==a.ElementRef&&a.ElementRef)&&f||Object,"function"==typeof(p=void 0!==s.D3Service&&s.D3Service)&&p||Object])],d),e.PieComponent=d;var f,p},zaA9:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/oeL"),a=n("qbdv"),i=n("BGw+"),s=n("HMTr"),u=function(){function t(){}return t}();u=r([o.NgModule({imports:[a.CommonModule,s.MaterialModule],exports:[i.StatsComponent],declarations:[i.StatsComponent]})],u),e.StatsModule=u}});